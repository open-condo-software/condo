// auto generated by kmigrator
// KMIGRATOR:0502_auto_20251223_0641:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjUtMTItMjMgMDY6NDEKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA1MDFfYXV0b18yMDI1MTIyMl8xMDI2JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0nbWV0ZXJzJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChkZWZhdWx0PUZhbHNlKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbnBsYW4nLAogICAgICAgICAgICBuYW1lPSdwYXltZW50cycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0ndGlja2V0cycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J21ldGVycycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbnBsYW5oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0ncGF5bWVudHMnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3RpY2tldHMnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field meters to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "meters" boolean DEFAULT false NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "meters" DROP DEFAULT;
--
-- Add field payments to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "payments" boolean DEFAULT false NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "payments" DROP DEFAULT;
--
-- Add field tickets to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "tickets" boolean DEFAULT false NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "tickets" DROP DEFAULT;
--
-- Add field meters to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "meters" boolean NULL;
--
-- Add field payments to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "payments" boolean NULL;
--
-- Add field tickets to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "tickets" boolean NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field tickets to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "tickets" CASCADE;
--
-- Add field payments to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "payments" CASCADE;
--
-- Add field meters to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "meters" CASCADE;
--
-- Add field tickets to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "tickets" CASCADE;
--
-- Add field payments to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "payments" CASCADE;
--
-- Add field meters to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "meters" CASCADE;
COMMIT;

    `)
}
