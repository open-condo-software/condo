// auto generated by kmigrator
// KMIGRATOR:0459_auto_20250321_0614:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjUtMDMtMjEgMDY6MTQKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA0NThfYjJiYXBwYWNjZXNzcmlnaHRzZXRfY2FubWFuYWdlaW52b2ljZXNfYW5kX21vcmUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J29yZ2FuaXphdGlvbmVtcGxveWVlcmVxdWVzdCcsCiAgICAgICAgICAgIG5hbWU9J3VzZXJOYW1lJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChkZWZhdWx0PScnKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J29yZ2FuaXphdGlvbmVtcGxveWVlcmVxdWVzdCcsCiAgICAgICAgICAgIG5hbWU9J3VzZXJQaG9uZScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoZGVmYXVsdD0nJyksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdvcmdhbml6YXRpb25lbXBsb3llZXJlcXVlc3RoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0ndXNlck5hbWUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdvcmdhbml6YXRpb25lbXBsb3llZXJlcXVlc3RoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0ndXNlclBob25lJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field userName to organizationemployeerequest
--
ALTER TABLE "OrganizationEmployeeRequest" ADD COLUMN "userName" text DEFAULT '' NOT NULL;
ALTER TABLE "OrganizationEmployeeRequest" ALTER COLUMN "userName" DROP DEFAULT;
--
-- Add field userPhone to organizationemployeerequest
--
ALTER TABLE "OrganizationEmployeeRequest" ADD COLUMN "userPhone" text DEFAULT '' NOT NULL;
ALTER TABLE "OrganizationEmployeeRequest" ALTER COLUMN "userPhone" DROP DEFAULT;
--
-- Add field userName to organizationemployeerequesthistoryrecord
--
ALTER TABLE "OrganizationEmployeeRequestHistoryRecord" ADD COLUMN "userName" text NULL;
--
-- Add field userPhone to organizationemployeerequesthistoryrecord
--
ALTER TABLE "OrganizationEmployeeRequestHistoryRecord" ADD COLUMN "userPhone" text NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field userPhone to organizationemployeerequesthistoryrecord
--
ALTER TABLE "OrganizationEmployeeRequestHistoryRecord" DROP COLUMN "userPhone" CASCADE;
--
-- Add field userName to organizationemployeerequesthistoryrecord
--
ALTER TABLE "OrganizationEmployeeRequestHistoryRecord" DROP COLUMN "userName" CASCADE;
--
-- Add field userPhone to organizationemployeerequest
--
ALTER TABLE "OrganizationEmployeeRequest" DROP COLUMN "userPhone" CASCADE;
--
-- Add field userName to organizationemployeerequest
--
ALTER TABLE "OrganizationEmployeeRequest" DROP COLUMN "userName" CASCADE;
COMMIT;

    `)
}
