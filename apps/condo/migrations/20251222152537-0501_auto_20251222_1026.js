// auto generated by kmigrator
// KMIGRATOR:0501_auto_20251222_1026:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjUtMTItMjIgMTA6MjYKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA1MDBfYXV0b18yMDI1MTIxN18xMjA5JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0ncGFzc1RpY2tldHMnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdwYXNzVGlja2V0cycsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0nZGlzYWJsZWRCMkJBcHBzJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkpTT05GaWVsZChkZWZhdWx0PVtdKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbnBsYW4nLAogICAgICAgICAgICBuYW1lPSdkaXNhYmxlZEIyQ0FwcHMnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSlNPTkZpZWxkKGRlZmF1bHQ9W10pLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdkaXNhYmxlZEIyQkFwcHMnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSlNPTkZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2Rpc2FibGVkQjJDQXBwcycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5KU09ORmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field passTickets from subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "passTickets" CASCADE;
--
-- Remove field passTickets from subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "passTickets" CASCADE;
--
-- Add field disabledB2BApps to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "disabledB2BApps" jsonb DEFAULT '[]' NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "disabledB2BApps" DROP DEFAULT;
--
-- Add field disabledB2CApps to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "disabledB2CApps" jsonb DEFAULT '[]' NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "disabledB2CApps" DROP DEFAULT;
--
-- Add field disabledB2BApps to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "disabledB2BApps" jsonb NULL;
--
-- Add field disabledB2CApps to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "disabledB2CApps" jsonb NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field disabledB2CApps to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "disabledB2CApps" CASCADE;
--
-- Add field disabledB2BApps to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "disabledB2BApps" CASCADE;
--
-- Add field disabledB2CApps to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "disabledB2CApps" CASCADE;
--
-- Add field disabledB2BApps to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "disabledB2BApps" CASCADE;
--
-- Remove field passTickets from subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "passTickets" boolean NULL;
--
-- Remove field passTickets from subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "passTickets" boolean NOT NULL;
COMMIT;

    `)
}
