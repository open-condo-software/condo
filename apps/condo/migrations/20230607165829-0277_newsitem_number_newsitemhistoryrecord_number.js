// auto generated by kmigrator
// KMIGRATOR:0277_newsitem_number_newsitemhistoryrecord_number:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC4xIG9uIDIwMjMtMDYtMDcgMTE6NTgKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAyNzZfdGlja2V0X2ZlZWRiYWNrYWRkaXRpb25hbG9wdGlvbnNfYW5kX21vcmUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J25ld3NpdGVtJywKICAgICAgICAgICAgbmFtZT0nbnVtYmVyJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nbmV3c2l0ZW1oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nbnVtYmVyJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkpTT05GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field number to newsitem
--
ALTER TABLE "NewsItem" ADD COLUMN "number" integer NULL;
--
-- Add field number to newsitemhistoryrecord
--
ALTER TABLE "NewsItemHistoryRecord" ADD COLUMN "number" jsonb NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field number to newsitemhistoryrecord
--
ALTER TABLE "NewsItemHistoryRecord" DROP COLUMN "number" CASCADE;
--
-- Add field number to newsitem
--
ALTER TABLE "NewsItem" DROP COLUMN "number" CASCADE;
COMMIT;

    `)
}
