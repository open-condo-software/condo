// auto generated by kmigrator
// KMIGRATOR:0451_document_canreadbyresident_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDUuMS40IG9uIDIwMjUtMDItMjUgMTM6NDEKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA0NTBfcmVuYW1lX3F1b3RhX2NvbnRhY3Rfb3duZXJzaGlwcGVyY2VudGFnZV9hbmRfbW9yZScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nZG9jdW1lbnQnLAogICAgICAgICAgICBuYW1lPSdjYW5SZWFkQnlSZXNpZGVudCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdkb2N1bWVudGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdjYW5SZWFkQnlSZXNpZGVudCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldCcsCiAgICAgICAgICAgIG5hbWU9J2N1c3RvbUNsYXNzaWZpZXInLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXQnLAogICAgICAgICAgICBuYW1lPSdpc0luc3VyYW5jZScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXQnLAogICAgICAgICAgICBuYW1lPSdrYW5iYW5Db2x1bW4nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXQnLAogICAgICAgICAgICBuYW1lPSdrYW5iYW5PcmRlcicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5JbnRlZ2VyRmllbGQoZGVmYXVsdD0xKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldCcsCiAgICAgICAgICAgIG5hbWU9J3ByaW9yaXR5JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChkZWZhdWx0PTEwMCksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXQnLAogICAgICAgICAgICBuYW1lPSd0aXRsZScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J2N1c3RvbUNsYXNzaWZpZXJGcm9tJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0nY3VzdG9tQ2xhc3NpZmllclRvJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0naXNJbnN1cmFuY2VGcm9tJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0naXNJbnN1cmFuY2VUbycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J2thbmJhbkNvbHVtbkZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSdrYW5iYW5Db2x1bW5UbycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J2thbmJhbk9yZGVyRnJvbScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5JbnRlZ2VyRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J2thbmJhbk9yZGVyVG8nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSW50ZWdlckZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSdwcmlvcml0eUZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSW50ZWdlckZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSdwcmlvcml0eVRvJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0ndGl0bGVGcm9tJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0ndGl0bGVUbycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdjdXN0b21DbGFzc2lmaWVyJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2lzSW5zdXJhbmNlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2thbmJhbkNvbHVtbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdrYW5iYW5PcmRlcicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5JbnRlZ2VyRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdwcmlvcml0eScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5JbnRlZ2VyRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSd0aXRsZScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field canReadByResident to document
--
ALTER TABLE "Document" ADD COLUMN "canReadByResident" boolean DEFAULT false NOT NULL;
ALTER TABLE "Document" ALTER COLUMN "canReadByResident" DROP DEFAULT;
--
-- Add field canReadByResident to documenthistoryrecord
--
ALTER TABLE "DocumentHistoryRecord" ADD COLUMN "canReadByResident" boolean NULL;
--
-- Add field customClassifier to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "customClassifier" text NULL;
--
-- Add field isInsurance to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "isInsurance" boolean DEFAULT false NOT NULL;
ALTER TABLE "Ticket" ALTER COLUMN "isInsurance" DROP DEFAULT;
--
-- Add field kanbanColumn to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "kanbanColumn" text NULL;
--
-- Add field kanbanOrder to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "kanbanOrder" integer DEFAULT 1 NOT NULL;
ALTER TABLE "Ticket" ALTER COLUMN "kanbanOrder" DROP DEFAULT;
--
-- Add field priority to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "priority" integer DEFAULT 100 NOT NULL;
ALTER TABLE "Ticket" ALTER COLUMN "priority" DROP DEFAULT;
--
-- Add field title to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "title" text NULL;
--
-- Add field customClassifierFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "customClassifierFrom" text NULL;
--
-- Add field customClassifierTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "customClassifierTo" text NULL;
--
-- Add field isInsuranceFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "isInsuranceFrom" boolean NULL;
--
-- Add field isInsuranceTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "isInsuranceTo" boolean NULL;
--
-- Add field kanbanColumnFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "kanbanColumnFrom" text NULL;
--
-- Add field kanbanColumnTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "kanbanColumnTo" text NULL;
--
-- Add field kanbanOrderFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "kanbanOrderFrom" integer NULL;
--
-- Add field kanbanOrderTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "kanbanOrderTo" integer NULL;
--
-- Add field priorityFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "priorityFrom" integer NULL;
--
-- Add field priorityTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "priorityTo" integer NULL;
--
-- Add field titleFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "titleFrom" text NULL;
--
-- Add field titleTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "titleTo" text NULL;
--
-- Add field customClassifier to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "customClassifier" text NULL;
--
-- Add field isInsurance to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "isInsurance" boolean NULL;
--
-- Add field kanbanColumn to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "kanbanColumn" text NULL;
--
-- Add field kanbanOrder to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "kanbanOrder" integer NULL;
--
-- Add field priority to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "priority" integer NULL;
--
-- Add field title to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "title" text NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field title to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "title" CASCADE;
--
-- Add field priority to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "priority" CASCADE;
--
-- Add field kanbanOrder to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "kanbanOrder" CASCADE;
--
-- Add field kanbanColumn to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "kanbanColumn" CASCADE;
--
-- Add field isInsurance to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "isInsurance" CASCADE;
--
-- Add field customClassifier to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "customClassifier" CASCADE;
--
-- Add field titleTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "titleTo" CASCADE;
--
-- Add field titleFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "titleFrom" CASCADE;
--
-- Add field priorityTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "priorityTo" CASCADE;
--
-- Add field priorityFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "priorityFrom" CASCADE;
--
-- Add field kanbanOrderTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "kanbanOrderTo" CASCADE;
--
-- Add field kanbanOrderFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "kanbanOrderFrom" CASCADE;
--
-- Add field kanbanColumnTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "kanbanColumnTo" CASCADE;
--
-- Add field kanbanColumnFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "kanbanColumnFrom" CASCADE;
--
-- Add field isInsuranceTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "isInsuranceTo" CASCADE;
--
-- Add field isInsuranceFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "isInsuranceFrom" CASCADE;
--
-- Add field customClassifierTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "customClassifierTo" CASCADE;
--
-- Add field customClassifierFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "customClassifierFrom" CASCADE;
--
-- Add field title to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "title" CASCADE;
--
-- Add field priority to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "priority" CASCADE;
--
-- Add field kanbanOrder to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "kanbanOrder" CASCADE;
--
-- Add field kanbanColumn to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "kanbanColumn" CASCADE;
--
-- Add field isInsurance to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "isInsurance" CASCADE;
--
-- Add field customClassifier to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "customClassifier" CASCADE;
--
-- Add field canReadByResident to documenthistoryrecord
--
ALTER TABLE "DocumentHistoryRecord" DROP COLUMN "canReadByResident" CASCADE;
--
-- Add field canReadByResident to document
--
ALTER TABLE "Document" DROP COLUMN "canReadByResident" CASCADE;
COMMIT;

    `)
}
