// auto generated by kmigrator
// KMIGRATOR:0452_contact_communityfee_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDUuMS40IG9uIDIwMjUtMDItMjYgMTg6MjAKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA0NTFfYXV0b18yMDI1MDIyNl8xNjA3JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdjb250YWN0JywKICAgICAgICAgICAgbmFtZT0nY29tbXVuaXR5RmVlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkRlY2ltYWxGaWVsZChibGFuaz1UcnVlLCBkZWNpbWFsX3BsYWNlcz04LCBtYXhfZGlnaXRzPTE4LCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nY29udGFjdGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdjb21tdW5pdHlGZWUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuRGVjaW1hbEZpZWxkKGJsYW5rPVRydWUsIGRlY2ltYWxfcGxhY2VzPTQsIG1heF9kaWdpdHM9MTgsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdkb2N1bWVudCcsCiAgICAgICAgICAgIG5hbWU9J2NhblJlYWRCeVJlc2lkZW50JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChkZWZhdWx0PUZhbHNlKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2RvY3VtZW50aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2NhblJlYWRCeVJlc2lkZW50JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0JywKICAgICAgICAgICAgbmFtZT0nY3VzdG9tQ2xhc3NpZmllcicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldCcsCiAgICAgICAgICAgIG5hbWU9J2lzSW5zdXJhbmNlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChkZWZhdWx0PUZhbHNlKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldCcsCiAgICAgICAgICAgIG5hbWU9J2thbmJhbkNvbHVtbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldCcsCiAgICAgICAgICAgIG5hbWU9J2thbmJhbk9yZGVyJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChkZWZhdWx0PTEpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0JywKICAgICAgICAgICAgbmFtZT0ncHJpb3JpdHknLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSW50ZWdlckZpZWxkKGRlZmF1bHQ9MzAwKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldCcsCiAgICAgICAgICAgIG5hbWU9J3RpdGxlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0nY3VzdG9tQ2xhc3NpZmllckZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSdjdXN0b21DbGFzc2lmaWVyVG8nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSdpc0luc3VyYW5jZUZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSdpc0luc3VyYW5jZVRvJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0na2FuYmFuQ29sdW1uRnJvbScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J2thbmJhbkNvbHVtblRvJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0na2FuYmFuT3JkZXJGcm9tJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0Y2hhbmdlJywKICAgICAgICAgICAgbmFtZT0na2FuYmFuT3JkZXJUbycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5JbnRlZ2VyRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J3ByaW9yaXR5RnJvbScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5JbnRlZ2VyRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J3ByaW9yaXR5VG8nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSW50ZWdlckZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSd0aXRsZUZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSd0aXRsZVRvJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2N1c3RvbUNsYXNzaWZpZXInLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0naXNJbnN1cmFuY2UnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0na2FuYmFuQ29sdW1uJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2thbmJhbk9yZGVyJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3ByaW9yaXR5JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3RpdGxlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field communityFee to contact
--
ALTER TABLE "Contact" ADD COLUMN "communityFee" numeric(18, 8) NULL;
--
-- Add field communityFee to contacthistoryrecord
--
ALTER TABLE "ContactHistoryRecord" ADD COLUMN "communityFee" numeric(18, 4) NULL;
--
-- Add field canReadByResident to document
--
ALTER TABLE "Document" ADD COLUMN "canReadByResident" boolean DEFAULT false NOT NULL;
ALTER TABLE "Document" ALTER COLUMN "canReadByResident" DROP DEFAULT;
--
-- Add field canReadByResident to documenthistoryrecord
--
ALTER TABLE "DocumentHistoryRecord" ADD COLUMN "canReadByResident" boolean NULL;
--
-- Add field customClassifier to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "customClassifier" text NULL;
--
-- Add field isInsurance to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "isInsurance" boolean DEFAULT false NOT NULL;
ALTER TABLE "Ticket" ALTER COLUMN "isInsurance" DROP DEFAULT;
--
-- Add field kanbanColumn to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "kanbanColumn" text NULL;
--
-- Add field kanbanOrder to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "kanbanOrder" integer DEFAULT 1 NOT NULL;
ALTER TABLE "Ticket" ALTER COLUMN "kanbanOrder" DROP DEFAULT;
--
-- Add field priority to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "priority" integer DEFAULT 300 NOT NULL;
ALTER TABLE "Ticket" ALTER COLUMN "priority" DROP DEFAULT;
--
-- Add field title to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "title" text NULL;
--
-- Add field customClassifierFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "customClassifierFrom" text NULL;
--
-- Add field customClassifierTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "customClassifierTo" text NULL;
--
-- Add field isInsuranceFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "isInsuranceFrom" boolean NULL;
--
-- Add field isInsuranceTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "isInsuranceTo" boolean NULL;
--
-- Add field kanbanColumnFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "kanbanColumnFrom" text NULL;
--
-- Add field kanbanColumnTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "kanbanColumnTo" text NULL;
--
-- Add field kanbanOrderFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "kanbanOrderFrom" integer NULL;
--
-- Add field kanbanOrderTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "kanbanOrderTo" integer NULL;
--
-- Add field priorityFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "priorityFrom" integer NULL;
--
-- Add field priorityTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "priorityTo" integer NULL;
--
-- Add field titleFrom to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "titleFrom" text NULL;
--
-- Add field titleTo to ticketchange
--
ALTER TABLE "TicketChange" ADD COLUMN "titleTo" text NULL;
--
-- Add field customClassifier to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "customClassifier" text NULL;
--
-- Add field isInsurance to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "isInsurance" boolean NULL;
--
-- Add field kanbanColumn to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "kanbanColumn" text NULL;
--
-- Add field kanbanOrder to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "kanbanOrder" integer NULL;
--
-- Add field priority to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "priority" integer NULL;
--
-- Add field title to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "title" text NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field title to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "title" CASCADE;
--
-- Add field priority to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "priority" CASCADE;
--
-- Add field kanbanOrder to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "kanbanOrder" CASCADE;
--
-- Add field kanbanColumn to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "kanbanColumn" CASCADE;
--
-- Add field isInsurance to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "isInsurance" CASCADE;
--
-- Add field customClassifier to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "customClassifier" CASCADE;
--
-- Add field titleTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "titleTo" CASCADE;
--
-- Add field titleFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "titleFrom" CASCADE;
--
-- Add field priorityTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "priorityTo" CASCADE;
--
-- Add field priorityFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "priorityFrom" CASCADE;
--
-- Add field kanbanOrderTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "kanbanOrderTo" CASCADE;
--
-- Add field kanbanOrderFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "kanbanOrderFrom" CASCADE;
--
-- Add field kanbanColumnTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "kanbanColumnTo" CASCADE;
--
-- Add field kanbanColumnFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "kanbanColumnFrom" CASCADE;
--
-- Add field isInsuranceTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "isInsuranceTo" CASCADE;
--
-- Add field isInsuranceFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "isInsuranceFrom" CASCADE;
--
-- Add field customClassifierTo to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "customClassifierTo" CASCADE;
--
-- Add field customClassifierFrom to ticketchange
--
ALTER TABLE "TicketChange" DROP COLUMN "customClassifierFrom" CASCADE;
--
-- Add field title to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "title" CASCADE;
--
-- Add field priority to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "priority" CASCADE;
--
-- Add field kanbanOrder to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "kanbanOrder" CASCADE;
--
-- Add field kanbanColumn to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "kanbanColumn" CASCADE;
--
-- Add field isInsurance to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "isInsurance" CASCADE;
--
-- Add field customClassifier to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "customClassifier" CASCADE;
--
-- Add field canReadByResident to documenthistoryrecord
--
ALTER TABLE "DocumentHistoryRecord" DROP COLUMN "canReadByResident" CASCADE;
--
-- Add field canReadByResident to document
--
ALTER TABLE "Document" DROP COLUMN "canReadByResident" CASCADE;
--
-- Add field communityFee to contacthistoryrecord
--
ALTER TABLE "ContactHistoryRecord" DROP COLUMN "communityFee" CASCADE;
--
-- Add field communityFee to contact
--
ALTER TABLE "Contact" DROP COLUMN "communityFee" CASCADE;
COMMIT;

    `)
}
