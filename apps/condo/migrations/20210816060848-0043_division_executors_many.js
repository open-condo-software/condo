// auto generated by kmigrator
// KMIGRATOR:0043_division_executors_many:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi42IG9uIDIwMjEtMDgtMTYgMDY6MDgKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKaW1wb3J0IGRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24KCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwNDJfZGl2aXNpb25fcHJvcGVydGllc19tYW55JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkNyZWF0ZU1vZGVsKAogICAgICAgICAgICBuYW1lPSdkaXZpc2lvbl9leGVjdXRvcnNfbWFueScsCiAgICAgICAgICAgIGZpZWxkcz1bCiAgICAgICAgICAgICAgICAoJ2lkJywgbW9kZWxzLkF1dG9GaWVsZChhdXRvX2NyZWF0ZWQ9VHJ1ZSwgcHJpbWFyeV9rZXk9VHJ1ZSwgc2VyaWFsaXplPUZhbHNlLCB2ZXJib3NlX25hbWU9J0lEJykpLAogICAgICAgICAgICAgICAgKCdEaXZpc2lvbl9sZWZ0X2lkJywgbW9kZWxzLkZvcmVpZ25LZXkoZGJfY29sdW1uPSdEaXZpc2lvbl9sZWZ0X2lkJywgb25fZGVsZXRlPWRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24uQ0FTQ0FERSwgcmVsYXRlZF9uYW1lPScrJywgdG89J19kamFuZ29fc2NoZW1hLmRpdmlzaW9uJykpLAogICAgICAgICAgICAgICAgKCdPcmdhbml6YXRpb25FbXBsb3llZV9yaWdodF9pZCcsIG1vZGVscy5Gb3JlaWduS2V5KGRiX2NvbHVtbj0nT3JnYW5pemF0aW9uRW1wbG95ZWVfcmlnaHRfaWQnLCBvbl9kZWxldGU9ZGphbmdvLmRiLm1vZGVscy5kZWxldGlvbi5DQVNDQURFLCByZWxhdGVkX25hbWU9JysnLCB0bz0nX2RqYW5nb19zY2hlbWEub3JnYW5pemF0aW9uZW1wbG95ZWUnKSksCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIG9wdGlvbnM9ewogICAgICAgICAgICAgICAgJ2RiX3RhYmxlJzogJ0RpdmlzaW9uX2V4ZWN1dG9yc19tYW55JywKICAgICAgICAgICAgfSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create model division_executors_many
--
CREATE TABLE "Division_executors_many" ("id" serial NOT NULL PRIMARY KEY, "Division_left_id" uuid NOT NULL, "OrganizationEmployee_right_id" integer NOT NULL);
ALTER TABLE "Division_executors_many" ADD CONSTRAINT "Division_executors_m_Division_left_id_b50a2677_fk_Division_" FOREIGN KEY ("Division_left_id") REFERENCES "Division" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "Division_executors_many" ADD CONSTRAINT "Division_executors_m_OrganizationEmployee_67cbc5c6_fk_Organizat" FOREIGN KEY ("OrganizationEmployee_right_id") REFERENCES "OrganizationEmployee" ("id") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "Division_executors_many_Division_left_id_b50a2677" ON "Division_executors_many" ("Division_left_id");
CREATE INDEX "Division_executors_many_OrganizationEmployee_right_id_67cbc5c6" ON "Division_executors_many" ("OrganizationEmployee_right_id");
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create model division_executors_many
--
DROP TABLE "Division_executors_many" CASCADE;
COMMIT;

    `)
}
