// auto generated by kmigrator
// KMIGRATOR:0220_auto_20230213_1055:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi45IG9uIDIwMjMtMDItMTMgMTA6NTUKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAyMTlfbWFudWFsX2ZpeF9kZWZhdWx0X3ZhbHVlX3B1c2hUeXBlVm9JUCcpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmFua3RyYW5zYWN0aW9uJywKICAgICAgICAgICAgbmFtZT0nZGF0ZVJlY2VpdmVkJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2Jhbmt0cmFuc2FjdGlvbicsCiAgICAgICAgICAgIG5hbWU9J2RhdGVXaXRoZHJhd2VkJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2Jhbmt0cmFuc2FjdGlvbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdkYXRlUmVjZWl2ZWQnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmFua3RyYW5zYWN0aW9uaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2RhdGVXaXRoZHJhd2VkJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2Jhbmtjb3N0aXRlbScsCiAgICAgICAgICAgIG5hbWU9J2lzT3V0Y29tZScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1UcnVlKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2Jhbmtjb3N0aXRlbWhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdpc091dGNvbWUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiYW5rdHJhbnNhY3Rpb24nLAogICAgICAgICAgICBuYW1lPSdpc091dGNvbWUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGRlZmF1bHQ9VHJ1ZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiYW5rdHJhbnNhY3Rpb25oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0naXNPdXRjb21lJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field dateReceived from banktransaction
--
ALTER TABLE "BankTransaction" DROP COLUMN "dateReceived" CASCADE;
--
-- Remove field dateWithdrawed from banktransaction
--
ALTER TABLE "BankTransaction" DROP COLUMN "dateWithdrawed" CASCADE;
--
-- Remove field dateReceived from banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" DROP COLUMN "dateReceived" CASCADE;
--
-- Remove field dateWithdrawed from banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" DROP COLUMN "dateWithdrawed" CASCADE;
--
-- Add field isOutcome to bankcostitem
--
ALTER TABLE "BankCostItem" ADD COLUMN "isOutcome" boolean DEFAULT true NOT NULL;
ALTER TABLE "BankCostItem" ALTER COLUMN "isOutcome" DROP DEFAULT;
--
-- Add field isOutcome to bankcostitemhistoryrecord
--
ALTER TABLE "BankCostItemHistoryRecord" ADD COLUMN "isOutcome" boolean NULL;
--
-- Add field isOutcome to banktransaction
--
ALTER TABLE "BankTransaction" ADD COLUMN "isOutcome" boolean DEFAULT true NOT NULL;
ALTER TABLE "BankTransaction" ALTER COLUMN "isOutcome" DROP DEFAULT;
--
-- Add field isOutcome to banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" ADD COLUMN "isOutcome" boolean NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field isOutcome to banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" DROP COLUMN "isOutcome" CASCADE;
--
-- Add field isOutcome to banktransaction
--
ALTER TABLE "BankTransaction" DROP COLUMN "isOutcome" CASCADE;
--
-- Add field isOutcome to bankcostitemhistoryrecord
--
ALTER TABLE "BankCostItemHistoryRecord" DROP COLUMN "isOutcome" CASCADE;
--
-- Add field isOutcome to bankcostitem
--
ALTER TABLE "BankCostItem" DROP COLUMN "isOutcome" CASCADE;
--
-- Remove field dateWithdrawed from banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" ADD COLUMN "dateWithdrawed" date NULL;
--
-- Remove field dateReceived from banktransactionhistoryrecord
--
ALTER TABLE "BankTransactionHistoryRecord" ADD COLUMN "dateReceived" date NULL;
--
-- Remove field dateWithdrawed from banktransaction
--
ALTER TABLE "BankTransaction" ADD COLUMN "dateWithdrawed" date NULL;
--
-- Remove field dateReceived from banktransaction
--
ALTER TABLE "BankTransaction" ADD COLUMN "dateReceived" date NULL;
COMMIT;

    `)
}
