// auto generated by kmigrator
// KMIGRATOR:0097_message_emailfrom_messagehistoryrecord_emailfrom:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC4xIG9uIDIwMjItMDItMDggMDQ6NTQKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwOTZfdGlja2V0X2RlYWRsaW5lX3RpY2tldGNoYW5nZV9kZWFkbGluZWZyb21fYW5kX21vcmUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J21lc3NhZ2UnLAogICAgICAgICAgICBuYW1lPSdlbWFpbEZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdtZXNzYWdlaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2VtYWlsRnJvbScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field emailFrom to message
--
ALTER TABLE "Message" ADD COLUMN "emailFrom" text NULL;
--
-- Add field emailFrom to messagehistoryrecord
--
ALTER TABLE "MessageHistoryRecord" ADD COLUMN "emailFrom" text NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field emailFrom to messagehistoryrecord
--
ALTER TABLE "MessageHistoryRecord" DROP COLUMN "emailFrom" CASCADE;
--
-- Add field emailFrom to message
--
ALTER TABLE "Message" DROP COLUMN "emailFrom" CASCADE;
COMMIT;

    `)
}
