// auto generated by kmigrator
// KMIGRATOR:0403_b2bappnewssharingconfig_customformurl_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMi4xIG9uIDIwMjQtMDYtMjEgMTI6MDIKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA0MDJfYXV0b18yMDI0MDYyMV8wNTIxJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiMmJhcHBuZXdzc2hhcmluZ2NvbmZpZycsCiAgICAgICAgICAgIG5hbWU9J2N1c3RvbUZvcm1VcmwnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiMmJhcHBuZXdzc2hhcmluZ2NvbmZpZycsCiAgICAgICAgICAgIG5hbWU9J3ByZXZpZXdQaWN0dXJlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkpTT05GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwbmV3c3NoYXJpbmdjb25maWdoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nY3VzdG9tRm9ybVVybCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2IyYmFwcG5ld3NzaGFyaW5nY29uZmlnaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3ByZXZpZXdQaWN0dXJlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkpTT05GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field customFormUrl to b2bappnewssharingconfig
--
ALTER TABLE "B2BAppNewsSharingConfig" ADD COLUMN "customFormUrl" text NULL;
--
-- Add field previewPicture to b2bappnewssharingconfig
--
ALTER TABLE "B2BAppNewsSharingConfig" ADD COLUMN "previewPicture" jsonb NULL;
--
-- Add field customFormUrl to b2bappnewssharingconfighistoryrecord
--
ALTER TABLE "B2BAppNewsSharingConfigHistoryRecord" ADD COLUMN "customFormUrl" text NULL;
--
-- Add field previewPicture to b2bappnewssharingconfighistoryrecord
--
ALTER TABLE "B2BAppNewsSharingConfigHistoryRecord" ADD COLUMN "previewPicture" jsonb NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field previewPicture to b2bappnewssharingconfighistoryrecord
--
ALTER TABLE "B2BAppNewsSharingConfigHistoryRecord" DROP COLUMN "previewPicture" CASCADE;
--
-- Add field customFormUrl to b2bappnewssharingconfighistoryrecord
--
ALTER TABLE "B2BAppNewsSharingConfigHistoryRecord" DROP COLUMN "customFormUrl" CASCADE;
--
-- Add field previewPicture to b2bappnewssharingconfig
--
ALTER TABLE "B2BAppNewsSharingConfig" DROP COLUMN "previewPicture" CASCADE;
--
-- Add field customFormUrl to b2bappnewssharingconfig
--
ALTER TABLE "B2BAppNewsSharingConfig" DROP COLUMN "customFormUrl" CASCADE;
COMMIT;

    `)
}
