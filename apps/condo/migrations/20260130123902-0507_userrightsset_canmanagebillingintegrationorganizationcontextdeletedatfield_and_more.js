// auto generated by kmigrator
// KMIGRATOR:0507_userrightsset_canmanagebillingintegrationorganizationcontextdeletedatfield_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMi4xMyBvbiAyMDI2LTAxLTMwIDA5OjM5Cgpmcm9tIGRqYW5nby5kYiBpbXBvcnQgbWlncmF0aW9ucywgbW9kZWxzCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwNTA2X2IyYmFwcHBvc2ludGVncmF0aW9uY29uZmlnaGlzdG9yeXJlY29yZF9hbmRfbW9yZScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndXNlcnJpZ2h0c3NldCcsCiAgICAgICAgICAgIG5hbWU9J2Nhbk1hbmFnZUJpbGxpbmdJbnRlZ3JhdGlvbk9yZ2FuaXphdGlvbkNvbnRleHREZWxldGVkQXRGaWVsZCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd1c2VycmlnaHRzc2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2Nhbk1hbmFnZUJpbGxpbmdJbnRlZ3JhdGlvbk9yZ2FuaXphdGlvbkNvbnRleHREZWxldGVkQXRGaWVsZCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field canManageBillingIntegrationOrganizationContextDeletedAtField to userrightsset
--
ALTER TABLE "UserRightsSet" ADD COLUMN "canManageBillingIntegrationOrganizationContextDeletedAtField" boolean DEFAULT false NOT NULL;
ALTER TABLE "UserRightsSet" ALTER COLUMN "canManageBillingIntegrationOrganizationContextDeletedAtField" DROP DEFAULT;
--
-- Add field canManageBillingIntegrationOrganizationContextDeletedAtField to userrightssethistoryrecord
--
ALTER TABLE "UserRightsSetHistoryRecord" ADD COLUMN "canManageBillingIntegrationOrganizationContextDeletedAtField" boolean NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field canManageBillingIntegrationOrganizationContextDeletedAtField to userrightssethistoryrecord
--
ALTER TABLE "UserRightsSetHistoryRecord" DROP COLUMN "canManageBillingIntegrationOrganizationContextDeletedAtField" CASCADE;
--
-- Add field canManageBillingIntegrationOrganizationContextDeletedAtField to userrightsset
--
ALTER TABLE "UserRightsSet" DROP COLUMN "canManageBillingIntegrationOrganizationContextDeletedAtField" CASCADE;
COMMIT;

    `)
}
