// auto generated by kmigrator
// KMIGRATOR:0218_alter_bankaccount_property:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi45IG9uIDIwMjMtMDItMDggMDc6MzAKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKaW1wb3J0IGRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24KCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAyMTdfdGlja2V0X2lzYXV0b2NsYXNzaWZpZWRfYW5kX21vcmUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWx0ZXJGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmFua2FjY291bnQnLAogICAgICAgICAgICBuYW1lPSdwcm9wZXJ0eScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Gb3JlaWduS2V5KGJsYW5rPVRydWUsIGRiX2NvbHVtbj0ncHJvcGVydHknLCBudWxsPVRydWUsIG9uX2RlbGV0ZT1kamFuZ28uZGIubW9kZWxzLmRlbGV0aW9uLkNBU0NBREUsIHJlbGF0ZWRfbmFtZT0nKycsIHRvPSdfZGphbmdvX3NjaGVtYS5wcm9wZXJ0eScpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field property on bankaccount
--
SET CONSTRAINTS "BankAccount_property_55274c76_fk_Property_id" IMMEDIATE; ALTER TABLE "BankAccount" DROP CONSTRAINT "BankAccount_property_55274c76_fk_Property_id";
ALTER TABLE "BankAccount" ALTER COLUMN "property" DROP NOT NULL;
ALTER TABLE "BankAccount" ADD CONSTRAINT "BankAccount_property_55274c76_fk_Property_id" FOREIGN KEY ("property") REFERENCES "Property" ("id") DEFERRABLE INITIALLY DEFERRED;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field property on bankaccount
--
SET CONSTRAINTS "BankAccount_property_55274c76_fk_Property_id" IMMEDIATE; ALTER TABLE "BankAccount" DROP CONSTRAINT "BankAccount_property_55274c76_fk_Property_id";
ALTER TABLE "BankAccount" ALTER COLUMN "property" SET NOT NULL;
ALTER TABLE "BankAccount" ADD CONSTRAINT "BankAccount_property_55274c76_fk_Property_id" FOREIGN KEY ("property") REFERENCES "Property" ("id") DEFERRABLE INITIALLY DEFERRED;
COMMIT;

    `)
}
