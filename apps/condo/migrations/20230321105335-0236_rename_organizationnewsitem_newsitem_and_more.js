// auto generated by kmigrator
// KMIGRATOR:0236_rename_organizationnewsitem_newsitem_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC4xIG9uIDIwMjMtMDMtMjEgMDU6NTQKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwMjM1X29yZ2FuaXphdGlvbm5ld3NpdGVtaGlzdG9yeXJlY29yZF9hbmRfbW9yZScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5SZW5hbWVNb2RlbCgKICAgICAgICAgICAgb2xkX25hbWU9J29yZ2FuaXphdGlvbm5ld3NpdGVtJywKICAgICAgICAgICAgbmV3X25hbWU9J25ld3NpdGVtJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVuYW1lTW9kZWwoCiAgICAgICAgICAgIG9sZF9uYW1lPSdvcmdhbml6YXRpb25uZXdzaXRlbWhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuZXdfbmFtZT0nbmV3c2l0ZW1oaXN0b3J5cmVjb3JkJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVuYW1lRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J29yZ2FuaXphdGlvbmVtcGxveWVlcm9sZScsCiAgICAgICAgICAgIG9sZF9uYW1lPSdjYW5NYW5hZ2VPcmdhbml6YXRpb25OZXdzJywKICAgICAgICAgICAgbmV3X25hbWU9J2Nhbk1hbmFnZU5ld3MnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW5hbWVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nb3JnYW5pemF0aW9uZW1wbG95ZWVyb2xlaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG9sZF9uYW1lPSdjYW5NYW5hZ2VPcmdhbml6YXRpb25OZXdzJywKICAgICAgICAgICAgbmV3X25hbWU9J2Nhbk1hbmFnZU5ld3MnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BbHRlck1vZGVsVGFibGUoCiAgICAgICAgICAgIG5hbWU9J25ld3NpdGVtJywKICAgICAgICAgICAgdGFibGU9J05ld3NJdGVtJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWx0ZXJNb2RlbFRhYmxlKAogICAgICAgICAgICBuYW1lPSduZXdzaXRlbWhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICB0YWJsZT0nTmV3c0l0ZW1IaXN0b3J5UmVjb3JkJywKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Rename model organizationnewsitem to newsitem
--
--
-- Rename model organizationnewsitemhistoryrecord to newsitemhistoryrecord
--
--
-- Rename field canManageOrganizationNews on organizationemployeerole to canManageNews
--
ALTER TABLE "OrganizationEmployeeRole" RENAME COLUMN "canManageOrganizationNews" TO "canManageNews";
--
-- Rename field canManageOrganizationNews on organizationemployeerolehistoryrecord to canManageNews
--
ALTER TABLE "OrganizationEmployeeRoleHistoryRecord" RENAME COLUMN "canManageOrganizationNews" TO "canManageNews";
--
-- Rename table for newsitem to NewsItem
--
ALTER TABLE "OrganizationNewsItem" RENAME TO "NewsItem";
--
-- Rename table for newsitemhistoryrecord to NewsItemHistoryRecord
--
ALTER TABLE "OrganizationNewsItemHistoryRecord" RENAME TO "NewsItemHistoryRecord";
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Rename table for newsitemhistoryrecord to NewsItemHistoryRecord
--
ALTER TABLE "NewsItemHistoryRecord" RENAME TO "OrganizationNewsItemHistoryRecord";
--
-- Rename table for newsitem to NewsItem
--
ALTER TABLE "NewsItem" RENAME TO "OrganizationNewsItem";
--
-- Rename field canManageOrganizationNews on organizationemployeerolehistoryrecord to canManageNews
--
ALTER TABLE "OrganizationEmployeeRoleHistoryRecord" RENAME COLUMN "canManageNews" TO "canManageOrganizationNews";
--
-- Rename field canManageOrganizationNews on organizationemployeerole to canManageNews
--
ALTER TABLE "OrganizationEmployeeRole" RENAME COLUMN "canManageNews" TO "canManageOrganizationNews";
--
-- Rename model organizationnewsitemhistoryrecord to newsitemhistoryrecord
--
--
-- Rename model organizationnewsitem to newsitem
--
COMMIT;

    `)
}
