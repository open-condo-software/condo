// auto generated by kmigrator
// KMIGRATOR:0022_alter_confirmphoneaction_phone:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMiBvbiAyMDIxLTA2LTIxIDEwOjU2Cgpmcm9tIGRqYW5nby5kYiBpbXBvcnQgbWlncmF0aW9ucywgbW9kZWxzCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwMDIxX2F1dG9fMjAyMTA2MTZfMTgyNScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5BbHRlckZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdjb25maXJtcGhvbmVhY3Rpb24nLAogICAgICAgICAgICBuYW1lPSdwaG9uZScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoZGVmYXVsdD0xMTExMTExMTExMSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field phone on confirmphoneaction
--
ALTER TABLE "ConfirmPhoneAction" ALTER COLUMN "phone" SET DEFAULT '11111111111';
UPDATE "ConfirmPhoneAction" SET "phone" = '11111111111' WHERE "phone" IS NULL;
ALTER TABLE "ConfirmPhoneAction" ALTER COLUMN "phone" SET NOT NULL;
ALTER TABLE "ConfirmPhoneAction" ALTER COLUMN "phone" DROP DEFAULT;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field phone on confirmphoneaction
--
ALTER TABLE "ConfirmPhoneAction" ALTER COLUMN "phone" DROP NOT NULL;
COMMIT;

    `)
}
