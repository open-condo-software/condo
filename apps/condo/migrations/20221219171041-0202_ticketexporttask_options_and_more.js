// auto generated by kmigrator
// KMIGRATOR:0202_ticketexporttask_options_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC41IG9uIDIwMjItMTItMTkgMTI6MTAKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAyMDBfcmVuYW1lX2luc3RydWN0aW9uX2FjcXVpcmluZ2ludGVncmF0aW9uaGlzdG9yeXJlY29yZF9kZXRhaWxlZGRlc2NyaXB0aW9uX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRleHBvcnR0YXNrJywKICAgICAgICAgICAgbmFtZT0nb3B0aW9ucycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5KU09ORmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGV4cG9ydHRhc2toaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nb3B0aW9ucycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5KU09ORmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWx0ZXJGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0ZXhwb3J0dGFzaycsCiAgICAgICAgICAgIG5hbWU9J2Zvcm1hdCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5DaGFyRmllbGQoY2hvaWNlcz1bKCdleGNlbCcsICdleGNlbCcpLCAoJ3BkZicsICdwZGYnKV0sIG1heF9sZW5ndGg9NTApLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field options to ticketexporttask
--
ALTER TABLE "TicketExportTask" ADD COLUMN "options" jsonb NULL;
--
-- Add field options to ticketexporttaskhistoryrecord
--
ALTER TABLE "TicketExportTaskHistoryRecord" ADD COLUMN "options" jsonb NULL;
--
-- Alter field format on ticketexporttask
--
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field format on ticketexporttask
--
--
-- Add field options to ticketexporttaskhistoryrecord
--
ALTER TABLE "TicketExportTaskHistoryRecord" DROP COLUMN "options" CASCADE;
--
-- Add field options to ticketexporttask
--
ALTER TABLE "TicketExportTask" DROP COLUMN "options" CASCADE;
COMMIT;

    `)
}
