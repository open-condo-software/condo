// auto generated by kmigrator
// KMIGRATOR:0342_auto_20231114_0720:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjMtMTEtMTQgMDc6MjAKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAzNDFfYWx0ZXJfaW52b2ljZWNvbnRleHRfdmF0cGVyY2VudCcpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0naW52b2ljZScsCiAgICAgICAgICAgIG5hbWU9J2NsaWVudE5hbWUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdpbnZvaWNlJywKICAgICAgICAgICAgbmFtZT0nY2xpZW50UGhvbmUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdpbnZvaWNlaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2NsaWVudE5hbWUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdpbnZvaWNlaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2NsaWVudFBob25lJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BbHRlckZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdpbnZvaWNlJywKICAgICAgICAgICAgbmFtZT0ndW5pdFR5cGUnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field clientName to invoice
--
ALTER TABLE "Invoice" ADD COLUMN "clientName" text NULL;
--
-- Add field clientPhone to invoice
--
ALTER TABLE "Invoice" ADD COLUMN "clientPhone" text NULL;
--
-- Add field clientName to invoicehistoryrecord
--
ALTER TABLE "InvoiceHistoryRecord" ADD COLUMN "clientName" text NULL;
--
-- Add field clientPhone to invoicehistoryrecord
--
ALTER TABLE "InvoiceHistoryRecord" ADD COLUMN "clientPhone" text NULL;
--
-- Alter field unitType on invoice
--
ALTER TABLE "Invoice" ALTER COLUMN "unitType" DROP NOT NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field unitType on invoice
--
ALTER TABLE "Invoice" ALTER COLUMN "unitType" SET NOT NULL;
--
-- Add field clientPhone to invoicehistoryrecord
--
ALTER TABLE "InvoiceHistoryRecord" DROP COLUMN "clientPhone" CASCADE;
--
-- Add field clientName to invoicehistoryrecord
--
ALTER TABLE "InvoiceHistoryRecord" DROP COLUMN "clientName" CASCADE;
--
-- Add field clientPhone to invoice
--
ALTER TABLE "Invoice" DROP COLUMN "clientPhone" CASCADE;
--
-- Add field clientName to invoice
--
ALTER TABLE "Invoice" DROP COLUMN "clientName" CASCADE;
COMMIT;

    `)
}
