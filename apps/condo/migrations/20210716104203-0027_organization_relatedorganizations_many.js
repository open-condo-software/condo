// auto generated by kmigrator
// KMIGRATOR:0027_organization_relatedorganizations_many:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjEtMDctMTYgMDU6NDIKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKaW1wb3J0IGRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24KCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwMjZfYXV0b18yMDIxMDcwNV8xNjEwJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkNyZWF0ZU1vZGVsKAogICAgICAgICAgICBuYW1lPSdvcmdhbml6YXRpb25fcmVsYXRlZG9yZ2FuaXphdGlvbnNfbWFueScsCiAgICAgICAgICAgIGZpZWxkcz1bCiAgICAgICAgICAgICAgICAoJ2lkJywgbW9kZWxzLkF1dG9GaWVsZChhdXRvX2NyZWF0ZWQ9VHJ1ZSwgcHJpbWFyeV9rZXk9VHJ1ZSwgc2VyaWFsaXplPUZhbHNlLCB2ZXJib3NlX25hbWU9J0lEJykpLAogICAgICAgICAgICAgICAgKCdPcmdhbml6YXRpb25fbGVmdF9pZCcsIG1vZGVscy5Gb3JlaWduS2V5KGRiX2NvbHVtbj0nT3JnYW5pemF0aW9uX2xlZnRfaWQnLCBvbl9kZWxldGU9ZGphbmdvLmRiLm1vZGVscy5kZWxldGlvbi5DQVNDQURFLCByZWxhdGVkX25hbWU9JysnLCB0bz0nX2RqYW5nb19zY2hlbWEub3JnYW5pemF0aW9uJykpLAogICAgICAgICAgICAgICAgKCdPcmdhbml6YXRpb25fcmlnaHRfaWQnLCBtb2RlbHMuRm9yZWlnbktleShkYl9jb2x1bW49J09yZ2FuaXphdGlvbl9yaWdodF9pZCcsIG9uX2RlbGV0ZT1kamFuZ28uZGIubW9kZWxzLmRlbGV0aW9uLkNBU0NBREUsIHJlbGF0ZWRfbmFtZT0nKycsIHRvPSdfZGphbmdvX3NjaGVtYS5vcmdhbml6YXRpb24nKSksCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIG9wdGlvbnM9ewogICAgICAgICAgICAgICAgJ2RiX3RhYmxlJzogJ09yZ2FuaXphdGlvbl9yZWxhdGVkT3JnYW5pemF0aW9uc19tYW55JywKICAgICAgICAgICAgfSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create model organization_relatedorganizations_many
--
CREATE TABLE "Organization_relatedOrganizations_many" ("id" serial NOT NULL PRIMARY KEY, "Organization_left_id" uuid NOT NULL, "Organization_right_id" uuid NOT NULL);
ALTER TABLE "Organization_relatedOrganizations_many" ADD CONSTRAINT "Organization_related_Organization_left_id_0e7ecb14_fk_Organizat" FOREIGN KEY ("Organization_left_id") REFERENCES "Organization" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "Organization_relatedOrganizations_many" ADD CONSTRAINT "Organization_related_Organization_right_i_7ce32a6c_fk_Organizat" FOREIGN KEY ("Organization_right_id") REFERENCES "Organization" ("id") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "Organization_relatedOrgani_Organization_left_id_0e7ecb14" ON "Organization_relatedOrganizations_many" ("Organization_left_id");
CREATE INDEX "Organization_relatedOrgani_Organization_right_id_7ce32a6c" ON "Organization_relatedOrganizations_many" ("Organization_right_id");
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create model organization_relatedorganizations_many
--
DROP TABLE "Organization_relatedOrganizations_many" CASCADE;
COMMIT;

    `)
}
