// auto generated by kmigrator
// KMIGRATOR:0042_division_properties_many:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi42IG9uIDIwMjEtMDgtMTYgMDU6MzIKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKaW1wb3J0IGRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24KCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwNDFfZGl2aXNpb25fZGl2aXNpb25oaXN0b3J5cmVjb3JkJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkNyZWF0ZU1vZGVsKAogICAgICAgICAgICBuYW1lPSdkaXZpc2lvbl9wcm9wZXJ0aWVzX21hbnknLAogICAgICAgICAgICBmaWVsZHM9WwogICAgICAgICAgICAgICAgKCdpZCcsIG1vZGVscy5BdXRvRmllbGQoYXV0b19jcmVhdGVkPVRydWUsIHByaW1hcnlfa2V5PVRydWUsIHNlcmlhbGl6ZT1GYWxzZSwgdmVyYm9zZV9uYW1lPSdJRCcpKSwKICAgICAgICAgICAgICAgICgnRGl2aXNpb25fbGVmdF9pZCcsIG1vZGVscy5Gb3JlaWduS2V5KGRiX2NvbHVtbj0nRGl2aXNpb25fbGVmdF9pZCcsIG9uX2RlbGV0ZT1kamFuZ28uZGIubW9kZWxzLmRlbGV0aW9uLkNBU0NBREUsIHJlbGF0ZWRfbmFtZT0nKycsIHRvPSdfZGphbmdvX3NjaGVtYS5kaXZpc2lvbicpKSwKICAgICAgICAgICAgICAgICgnUHJvcGVydHlfcmlnaHRfaWQnLCBtb2RlbHMuRm9yZWlnbktleShkYl9jb2x1bW49J1Byb3BlcnR5X3JpZ2h0X2lkJywgb25fZGVsZXRlPWRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24uQ0FTQ0FERSwgcmVsYXRlZF9uYW1lPScrJywgdG89J19kamFuZ29fc2NoZW1hLnByb3BlcnR5JykpLAogICAgICAgICAgICBdLAogICAgICAgICAgICBvcHRpb25zPXsKICAgICAgICAgICAgICAgICdkYl90YWJsZSc6ICdEaXZpc2lvbl9wcm9wZXJ0aWVzX21hbnknLAogICAgICAgICAgICB9LAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create model division_properties_many
--
CREATE TABLE "Division_properties_many" ("id" serial NOT NULL PRIMARY KEY, "Division_left_id" uuid NOT NULL, "Property_right_id" uuid NOT NULL);
ALTER TABLE "Division_properties_many" ADD CONSTRAINT "Division_properties__Division_left_id_32c0aab5_fk_Division_" FOREIGN KEY ("Division_left_id") REFERENCES "Division" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "Division_properties_many" ADD CONSTRAINT "Division_properties__Property_right_id_9e298cb9_fk_Property_" FOREIGN KEY ("Property_right_id") REFERENCES "Property" ("id") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "Division_properties_many_Division_left_id_32c0aab5" ON "Division_properties_many" ("Division_left_id");
CREATE INDEX "Division_properties_many_Property_right_id_9e298cb9" ON "Division_properties_many" ("Property_right_id");
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create model division_properties_many
--
DROP TABLE "Division_properties_many" CASCADE;
COMMIT;

    `)
}
