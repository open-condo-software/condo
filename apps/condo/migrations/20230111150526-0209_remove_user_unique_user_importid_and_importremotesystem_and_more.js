// auto generated by kmigrator
// KMIGRATOR:0209_remove_user_unique_user_importid_and_importremotesystem_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC40IG9uIDIwMjMtMDEtMTEgMTA6MDUKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwMjA4X3VzZXJleHRlcm5hbGlkZW50aXR5aGlzdG9yeXJlY29yZF9hbmRfbW9yZScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVDb25zdHJhaW50KAogICAgICAgICAgICBtb2RlbF9uYW1lPSd1c2VyJywKICAgICAgICAgICAgbmFtZT0ndW5pcXVlX3VzZXJfaW1wb3J0aWRfYW5kX2ltcG9ydHJlbW90ZXN5c3RlbScsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd1c2VyJywKICAgICAgICAgICAgbmFtZT0naW1wb3J0SWQnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndXNlcicsCiAgICAgICAgICAgIG5hbWU9J2ltcG9ydFJlbW90ZVN5c3RlbScsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd1c2VyaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2ltcG9ydElkJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3VzZXJoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0naW1wb3J0UmVtb3RlU3lzdGVtJywKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove constraint unique_user_importid_and_importremotesystem from model user
--
-- ALTER TABLE "User" DROP CONSTRAINT "unique_user_importid_and_importremotesystem";
--
-- Remove field importId from user
--
-- ALTER TABLE "User" DROP COLUMN "importId" CASCADE;
--
-- Remove field importRemoteSystem from user
--
-- ALTER TABLE "User" DROP COLUMN "importRemoteSystem" CASCADE;
--
-- Remove field importId from userhistoryrecord
--
-- ALTER TABLE "UserHistoryRecord" DROP COLUMN "importId" CASCADE;
--
-- Remove field importRemoteSystem from userhistoryrecord
--
-- ALTER TABLE "UserHistoryRecord" DROP COLUMN "importRemoteSystem" CASCADE;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field importRemoteSystem from userhistoryrecord
--
-- ALTER TABLE "UserHistoryRecord" ADD COLUMN "importRemoteSystem" text NULL;
--
-- Remove field importId from userhistoryrecord
--
-- ALTER TABLE "UserHistoryRecord" ADD COLUMN "importId" text NULL;
--
-- Remove field importRemoteSystem from user
--
-- ALTER TABLE "User" ADD COLUMN "importRemoteSystem" text NULL;
--
-- Remove field importId from user
--
-- ALTER TABLE "User" ADD COLUMN "importId" text NULL;
--
-- Remove constraint unique_user_importid_and_importremotesystem from model user
--
-- ALTER TABLE "User" ADD CONSTRAINT "unique_user_importid_and_importremotesystem" UNIQUE ("importId", "importRemoteSystem");
COMMIT;

    `)
}
