// auto generated by kmigrator
// KMIGRATOR:0251_rename_billingintegrationlog_billingintegrationproblem_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMS41IG9uIDIwMjMtMDQtMDYgMTI6MjMKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAyNTBfYmFua2FjY291bnRyZXBvcnRoaXN0b3J5cmVjb3JkX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbmFtZU1vZGVsKAogICAgICAgICAgICBvbGRfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9ubG9nJywKICAgICAgICAgICAgbmV3X25hbWU9J2JpbGxpbmdpbnRlZ3JhdGlvbnByb2JsZW0nLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9ucHJvYmxlbScsCiAgICAgICAgICAgIG5hbWU9J3R5cGUnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9ucHJvYmxlbScsCiAgICAgICAgICAgIG5hbWU9J3RpdGxlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChkZWZhdWx0PSdFcnJvciBvY2N1cnJlZCcpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BbHRlck1vZGVsVGFibGUoCiAgICAgICAgICAgIG5hbWU9J2JpbGxpbmdpbnRlZ3JhdGlvbnByb2JsZW0nLAogICAgICAgICAgICB0YWJsZT0nQmlsbGluZ0ludGVncmF0aW9uUHJvYmxlbScsCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Rename model billingintegrationlog to billingintegrationproblem
--
-- (no-op)
--
-- Remove field type from billingintegrationproblem
--
ALTER TABLE "BillingIntegrationLog" DROP COLUMN "type" CASCADE;
--
-- Add field title to billingintegrationproblem
--
ALTER TABLE "BillingIntegrationLog" ADD COLUMN "title" text DEFAULT 'Error occurred' NOT NULL;
ALTER TABLE "BillingIntegrationLog" ALTER COLUMN "title" DROP DEFAULT;
--
-- Rename table for billingintegrationproblem to BillingIntegrationProblem
--
ALTER TABLE "BillingIntegrationLog" RENAME TO "BillingIntegrationProblem";
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Rename table for billingintegrationproblem to BillingIntegrationProblem
--
ALTER TABLE "BillingIntegrationProblem" RENAME TO "BillingIntegrationLog";
--
-- Add field title to billingintegrationproblem
--
ALTER TABLE "BillingIntegrationLog" DROP COLUMN "title" CASCADE;
--
-- Remove field type from billingintegrationproblem
--
ALTER TABLE "BillingIntegrationLog" ADD COLUMN "type" text NOT NULL;
--
-- Rename model billingintegrationlog to billingintegrationproblem
--
-- (no-op)
COMMIT;

    `)
}
