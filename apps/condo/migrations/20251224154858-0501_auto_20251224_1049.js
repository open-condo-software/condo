// auto generated by kmigrator
// KMIGRATOR:0501_auto_20251224_1049:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjUtMTItMjQgMTA6NDkKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA1MDBfYXV0b18yMDI1MTIyM18wODI1JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFsdGVyRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbmNvbnRleHQnLAogICAgICAgICAgICBuYW1lPSdlbmRBdCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5EYXRlRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWx0ZXJGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9uY29udGV4dCcsCiAgICAgICAgICAgIG5hbWU9J3N0YXJ0QXQnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuRGF0ZUZpZWxkKCksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFsdGVyRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbmNvbnRleHRoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nZW5kQXQnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuRGF0ZUZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFsdGVyRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbmNvbnRleHRoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nc3RhcnRBdCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5EYXRlRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field endAt on subscriptioncontext
--
ALTER TABLE "SubscriptionContext" ALTER COLUMN "endAt" TYPE date USING "endAt"::date;
--
-- Alter field startAt on subscriptioncontext
--
ALTER TABLE "SubscriptionContext" ALTER COLUMN "startAt" TYPE date USING "startAt"::date;
--
-- Alter field endAt on subscriptioncontexthistoryrecord
--
ALTER TABLE "SubscriptionContextHistoryRecord" ALTER COLUMN "endAt" TYPE date USING "endAt"::date;
--
-- Alter field startAt on subscriptioncontexthistoryrecord
--
ALTER TABLE "SubscriptionContextHistoryRecord" ALTER COLUMN "startAt" TYPE date USING "startAt"::date;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field startAt on subscriptioncontexthistoryrecord
--
ALTER TABLE "SubscriptionContextHistoryRecord" ALTER COLUMN "startAt" TYPE timestamp with time zone USING "startAt"::timestamp with time zone;
--
-- Alter field endAt on subscriptioncontexthistoryrecord
--
ALTER TABLE "SubscriptionContextHistoryRecord" ALTER COLUMN "endAt" TYPE timestamp with time zone USING "endAt"::timestamp with time zone;
--
-- Alter field startAt on subscriptioncontext
--
ALTER TABLE "SubscriptionContext" ALTER COLUMN "startAt" TYPE timestamp with time zone USING "startAt"::timestamp with time zone;
--
-- Alter field endAt on subscriptioncontext
--
ALTER TABLE "SubscriptionContext" ALTER COLUMN "endAt" TYPE timestamp with time zone USING "endAt"::timestamp with time zone;
COMMIT;

    `)
}
