// auto generated by kmigrator
// KMIGRATOR:0507_remove_billingreceipthistoryrecord_paymentstatuschangewebhooksecret_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDUuMSBvbiAyMDI2LTAxLTMwIDA4OjE2Cgpmcm9tIGRqYW5nby5kYiBpbXBvcnQgbWlncmF0aW9ucwoKCmNsYXNzIE1pZ3JhdGlvbihtaWdyYXRpb25zLk1pZ3JhdGlvbik6CgogICAgZGVwZW5kZW5jaWVzID0gWwogICAgICAgICgnX2RqYW5nb19zY2hlbWEnLCAnMDUwNl9iMmJhcHBwb3NpbnRlZ3JhdGlvbmNvbmZpZ2hpc3RvcnlyZWNvcmRfYW5kX21vcmUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2JpbGxpbmdyZWNlaXB0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3BheW1lbnRTdGF0dXNDaGFuZ2VXZWJob29rU2VjcmV0JywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2ludm9pY2VoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0ncGF5bWVudFN0YXR1c0NoYW5nZVdlYmhvb2tTZWNyZXQnLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field paymentStatusChangeWebhookSecret from billingreceipthistoryrecord
--
ALTER TABLE "BillingReceiptHistoryRecord" DROP COLUMN "paymentStatusChangeWebhookSecret" CASCADE;
--
-- Remove field paymentStatusChangeWebhookSecret from invoicehistoryrecord
--
ALTER TABLE "InvoiceHistoryRecord" DROP COLUMN "paymentStatusChangeWebhookSecret" CASCADE;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field paymentStatusChangeWebhookSecret from invoicehistoryrecord
--
ALTER TABLE "InvoiceHistoryRecord" ADD COLUMN "paymentStatusChangeWebhookSecret" jsonb NULL;
--
-- Remove field paymentStatusChangeWebhookSecret from billingreceipthistoryrecord
--
ALTER TABLE "BillingReceiptHistoryRecord" ADD COLUMN "paymentStatusChangeWebhookSecret" jsonb NULL;
COMMIT;

    `)
}
