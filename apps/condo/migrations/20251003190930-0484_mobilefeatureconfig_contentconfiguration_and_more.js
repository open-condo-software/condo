// auto generated by kmigrator
// KMIGRATOR:0484_mobilefeatureconfig_contentconfiguration_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDUuMS40IG9uIDIwMjUtMTAtMDMgMTQ6MDkKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA0ODNfcmVtb3ZlX2N1c3RvbXZhbHVlX3VuaXF1ZV9vcmdhbml6YXRpb25fY3VzdG9tZmllbGRfb2JqZWN0aWRfYW5kX21vcmUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J21vYmlsZWZlYXR1cmVjb25maWcnLAogICAgICAgICAgICBuYW1lPSdjb250ZW50Q29uZmlndXJhdGlvbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5KU09ORmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J21vYmlsZWZlYXR1cmVjb25maWdoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nY29udGVudENvbmZpZ3VyYXRpb24nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSlNPTkZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field contentConfiguration to mobilefeatureconfig
--
ALTER TABLE "MobileFeatureConfig" ADD COLUMN "contentConfiguration" jsonb NULL;
--
-- Add field contentConfiguration to mobilefeatureconfighistoryrecord
--
ALTER TABLE "MobileFeatureConfigHistoryRecord" ADD COLUMN "contentConfiguration" jsonb NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field contentConfiguration to mobilefeatureconfighistoryrecord
--
ALTER TABLE "MobileFeatureConfigHistoryRecord" DROP COLUMN "contentConfiguration" CASCADE;
--
-- Add field contentConfiguration to mobilefeatureconfig
--
ALTER TABLE "MobileFeatureConfig" DROP COLUMN "contentConfiguration" CASCADE;
COMMIT;

    `)
}
