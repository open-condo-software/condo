// auto generated by kmigrator
// KMIGRATOR:0094_auto_20220202_0659:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi4xMCBvbiAyMDIyLTAyLTAyIDA2OjU5Cgpmcm9tIGRqYW5nby5kYiBpbXBvcnQgbWlncmF0aW9ucywgbW9kZWxzCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwMDkzX2F1dG9fMjAyMjAxMzFfMTAxOScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ncHJvcGVydHknLAogICAgICAgICAgICBuYW1lPSd1bmluaGFiaXRlZFVuaXRzQ291bnQnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSW50ZWdlckZpZWxkKGRlZmF1bHQ9MCksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdwcm9wZXJ0eWhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSd1bmluaGFiaXRlZFVuaXRzQ291bnQnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSW50ZWdlckZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field uninhabitedUnitsCount to property
--
ALTER TABLE "Property" ADD COLUMN "uninhabitedUnitsCount" integer DEFAULT 0 NOT NULL;
ALTER TABLE "Property" ALTER COLUMN "uninhabitedUnitsCount" DROP DEFAULT;
--
-- Add field uninhabitedUnitsCount to propertyhistoryrecord
--
ALTER TABLE "PropertyHistoryRecord" ADD COLUMN "uninhabitedUnitsCount" integer NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field uninhabitedUnitsCount to propertyhistoryrecord
--
ALTER TABLE "PropertyHistoryRecord" DROP COLUMN "uninhabitedUnitsCount" CASCADE;
--
-- Add field uninhabitedUnitsCount to property
--
ALTER TABLE "Property" DROP COLUMN "uninhabitedUnitsCount" CASCADE;
COMMIT;

    `)
}
