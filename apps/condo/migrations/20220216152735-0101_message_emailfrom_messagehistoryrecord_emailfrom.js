// auto generated by kmigrator
// KMIGRATOR:0101_message_emailfrom_messagehistoryrecord_emailfrom:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC4xIG9uIDIwMjItMDItMTYgMTA6MjcKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxMDBfYWx0ZXJfdXNlcl90eXBlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdtZXNzYWdlJywKICAgICAgICAgICAgbmFtZT0nZW1haWxGcm9tJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nbWVzc2FnZWhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdlbWFpbEZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field emailFrom to message
--
ALTER TABLE "Message" ADD COLUMN "emailFrom" text NULL;
--
-- Add field emailFrom to messagehistoryrecord
--
ALTER TABLE "MessageHistoryRecord" ADD COLUMN "emailFrom" text NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field emailFrom to messagehistoryrecord
--
ALTER TABLE "MessageHistoryRecord" DROP COLUMN "emailFrom" CASCADE;
--
-- Add field emailFrom to message
--
ALTER TABLE "Message" DROP COLUMN "emailFrom" CASCADE;
COMMIT;

    `)
}
