// auto generated by kmigrator
// KMIGRATOR:0197_rename_instruction_acquiringintegrationhistoryrecord_detaileddescription_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMS4yIG9uIDIwMjItMTItMDYgMDk6NDIKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxOTZfY29udGFjdF9jb250YWN0X3VuaXF1ZV9wcm9wZXJ0eV91bml0bmFtZV91bml0dHlwZV9waG9uZScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5SZW5hbWVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYWNxdWlyaW5naW50ZWdyYXRpb25oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgb2xkX25hbWU9J2luc3RydWN0aW9uJywKICAgICAgICAgICAgbmV3X25hbWU9J2RldGFpbGVkRGVzY3JpcHRpb24nLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW5hbWVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG9sZF9uYW1lPSdpbnN0cnVjdGlvbicsCiAgICAgICAgICAgIG5ld19uYW1lPSdkZXRhaWxlZERlc2NyaXB0aW9uJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVuYW1lRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2JpbGxpbmdpbnRlZ3JhdGlvbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBvbGRfbmFtZT0naW5zdHJ1Y3Rpb24nLAogICAgICAgICAgICBuZXdfbmFtZT0nZGV0YWlsZWREZXNjcmlwdGlvbicsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdhY3F1aXJpbmdpbnRlZ3JhdGlvbicsCiAgICAgICAgICAgIG5hbWU9J2Nvbm5lY3RlZE1lc3NhZ2UnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYWNxdWlyaW5naW50ZWdyYXRpb24nLAogICAgICAgICAgICBuYW1lPSdpbnN0cnVjdGlvbicsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdhY3F1aXJpbmdpbnRlZ3JhdGlvbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdjb25uZWN0ZWRNZXNzYWdlJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2IyYmFwcCcsCiAgICAgICAgICAgIG5hbWU9J2Nvbm5lY3RlZE1lc3NhZ2UnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwJywKICAgICAgICAgICAgbmFtZT0naW5zdHJ1Y3Rpb24nLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2Nvbm5lY3RlZE1lc3NhZ2UnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9uJywKICAgICAgICAgICAgbmFtZT0nY29ubmVjdGVkTWVzc2FnZScsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiaWxsaW5naW50ZWdyYXRpb24nLAogICAgICAgICAgICBuYW1lPSdpbnN0cnVjdGlvbicsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiaWxsaW5naW50ZWdyYXRpb25oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nY29ubmVjdGVkTWVzc2FnZScsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdhY3F1aXJpbmdpbnRlZ3JhdGlvbicsCiAgICAgICAgICAgIG5hbWU9J2RldGFpbGVkRGVzY3JpcHRpb24nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGRlZmF1bHQ9J1RFU1QnKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uJywKICAgICAgICAgICAgbmFtZT0nZGlzcGxheVByaW9yaXR5JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChkZWZhdWx0PTEpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYWNxdWlyaW5naW50ZWdyYXRpb24nLAogICAgICAgICAgICBuYW1lPSdsYWJlbCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2Rpc3BsYXlQcmlvcml0eScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5JbnRlZ2VyRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2xhYmVsJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwJywKICAgICAgICAgICAgbmFtZT0nZGV0YWlsZWREZXNjcmlwdGlvbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoZGVmYXVsdD0nVEVTVCcpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwJywKICAgICAgICAgICAgbmFtZT0nZGlzcGxheVByaW9yaXR5JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChkZWZhdWx0PTEpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwJywKICAgICAgICAgICAgbmFtZT0nbGFiZWwnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiMmJhcHBoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nZGlzcGxheVByaW9yaXR5JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2xhYmVsJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9uJywKICAgICAgICAgICAgbmFtZT0nZGV0YWlsZWREZXNjcmlwdGlvbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQoZGVmYXVsdD0nVEVTVCcpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9uJywKICAgICAgICAgICAgbmFtZT0nZGlzcGxheVByaW9yaXR5JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChkZWZhdWx0PTEpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9uJywKICAgICAgICAgICAgbmFtZT0nbGFiZWwnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVGV4dEZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiaWxsaW5naW50ZWdyYXRpb25oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nZGlzcGxheVByaW9yaXR5JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9uaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2xhYmVsJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlRleHRGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Rename field instruction on acquiringintegrationhistoryrecord to detailedDescription
--
ALTER TABLE "AcquiringIntegrationHistoryRecord" RENAME COLUMN "instruction" TO "detailedDescription";
--
-- Rename field instruction on b2bapphistoryrecord to detailedDescription
--
ALTER TABLE "B2BAppHistoryRecord" RENAME COLUMN "instruction" TO "detailedDescription";
--
-- Rename field instruction on billingintegrationhistoryrecord to detailedDescription
--
ALTER TABLE "BillingIntegrationHistoryRecord" RENAME COLUMN "instruction" TO "detailedDescription";
--
-- Remove field connectedMessage from acquiringintegration
--
ALTER TABLE "AcquiringIntegration" DROP COLUMN "connectedMessage" CASCADE;
--
-- Remove field instruction from acquiringintegration
--
ALTER TABLE "AcquiringIntegration" DROP COLUMN "instruction" CASCADE;
--
-- Remove field connectedMessage from acquiringintegrationhistoryrecord
--
ALTER TABLE "AcquiringIntegrationHistoryRecord" DROP COLUMN "connectedMessage" CASCADE;
--
-- Remove field connectedMessage from b2bapp
--
ALTER TABLE "B2BApp" DROP COLUMN "connectedMessage" CASCADE;
--
-- Remove field instruction from b2bapp
--
ALTER TABLE "B2BApp" DROP COLUMN "instruction" CASCADE;
--
-- Remove field connectedMessage from b2bapphistoryrecord
--
ALTER TABLE "B2BAppHistoryRecord" DROP COLUMN "connectedMessage" CASCADE;
--
-- Remove field connectedMessage from billingintegration
--
ALTER TABLE "BillingIntegration" DROP COLUMN "connectedMessage" CASCADE;
--
-- Remove field instruction from billingintegration
--
ALTER TABLE "BillingIntegration" DROP COLUMN "instruction" CASCADE;
--
-- Remove field connectedMessage from billingintegrationhistoryrecord
--
ALTER TABLE "BillingIntegrationHistoryRecord" DROP COLUMN "connectedMessage" CASCADE;
--
-- Add field detailedDescription to acquiringintegration
--
ALTER TABLE "AcquiringIntegration" ADD COLUMN "detailedDescription" text DEFAULT 'TEST' NOT NULL;
ALTER TABLE "AcquiringIntegration" ALTER COLUMN "detailedDescription" DROP DEFAULT;
--
-- Add field displayPriority to acquiringintegration
--
ALTER TABLE "AcquiringIntegration" ADD COLUMN "displayPriority" integer DEFAULT 1 NOT NULL;
ALTER TABLE "AcquiringIntegration" ALTER COLUMN "displayPriority" DROP DEFAULT;
--
-- Add field label to acquiringintegration
--
ALTER TABLE "AcquiringIntegration" ADD COLUMN "label" text NULL;
--
-- Add field displayPriority to acquiringintegrationhistoryrecord
--
ALTER TABLE "AcquiringIntegrationHistoryRecord" ADD COLUMN "displayPriority" integer NULL;
--
-- Add field label to acquiringintegrationhistoryrecord
--
ALTER TABLE "AcquiringIntegrationHistoryRecord" ADD COLUMN "label" text NULL;
--
-- Add field detailedDescription to b2bapp
--
ALTER TABLE "B2BApp" ADD COLUMN "detailedDescription" text DEFAULT 'TEST' NOT NULL;
ALTER TABLE "B2BApp" ALTER COLUMN "detailedDescription" DROP DEFAULT;
--
-- Add field displayPriority to b2bapp
--
ALTER TABLE "B2BApp" ADD COLUMN "displayPriority" integer DEFAULT 1 NOT NULL;
ALTER TABLE "B2BApp" ALTER COLUMN "displayPriority" DROP DEFAULT;
--
-- Add field label to b2bapp
--
ALTER TABLE "B2BApp" ADD COLUMN "label" text NULL;
--
-- Add field displayPriority to b2bapphistoryrecord
--
ALTER TABLE "B2BAppHistoryRecord" ADD COLUMN "displayPriority" integer NULL;
--
-- Add field label to b2bapphistoryrecord
--
ALTER TABLE "B2BAppHistoryRecord" ADD COLUMN "label" text NULL;
--
-- Add field detailedDescription to billingintegration
--
ALTER TABLE "BillingIntegration" ADD COLUMN "detailedDescription" text DEFAULT 'TEST' NOT NULL;
ALTER TABLE "BillingIntegration" ALTER COLUMN "detailedDescription" DROP DEFAULT;
--
-- Add field displayPriority to billingintegration
--
ALTER TABLE "BillingIntegration" ADD COLUMN "displayPriority" integer DEFAULT 1 NOT NULL;
ALTER TABLE "BillingIntegration" ALTER COLUMN "displayPriority" DROP DEFAULT;
--
-- Add field label to billingintegration
--
ALTER TABLE "BillingIntegration" ADD COLUMN "label" text NULL;
--
-- Add field displayPriority to billingintegrationhistoryrecord
--
ALTER TABLE "BillingIntegrationHistoryRecord" ADD COLUMN "displayPriority" integer NULL;
--
-- Add field label to billingintegrationhistoryrecord
--
ALTER TABLE "BillingIntegrationHistoryRecord" ADD COLUMN "label" text NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field label to billingintegrationhistoryrecord
--
ALTER TABLE "BillingIntegrationHistoryRecord" DROP COLUMN "label" CASCADE;
--
-- Add field displayPriority to billingintegrationhistoryrecord
--
ALTER TABLE "BillingIntegrationHistoryRecord" DROP COLUMN "displayPriority" CASCADE;
--
-- Add field label to billingintegration
--
ALTER TABLE "BillingIntegration" DROP COLUMN "label" CASCADE;
--
-- Add field displayPriority to billingintegration
--
ALTER TABLE "BillingIntegration" DROP COLUMN "displayPriority" CASCADE;
--
-- Add field detailedDescription to billingintegration
--
ALTER TABLE "BillingIntegration" DROP COLUMN "detailedDescription" CASCADE;
--
-- Add field label to b2bapphistoryrecord
--
ALTER TABLE "B2BAppHistoryRecord" DROP COLUMN "label" CASCADE;
--
-- Add field displayPriority to b2bapphistoryrecord
--
ALTER TABLE "B2BAppHistoryRecord" DROP COLUMN "displayPriority" CASCADE;
--
-- Add field label to b2bapp
--
ALTER TABLE "B2BApp" DROP COLUMN "label" CASCADE;
--
-- Add field displayPriority to b2bapp
--
ALTER TABLE "B2BApp" DROP COLUMN "displayPriority" CASCADE;
--
-- Add field detailedDescription to b2bapp
--
ALTER TABLE "B2BApp" DROP COLUMN "detailedDescription" CASCADE;
--
-- Add field label to acquiringintegrationhistoryrecord
--
ALTER TABLE "AcquiringIntegrationHistoryRecord" DROP COLUMN "label" CASCADE;
--
-- Add field displayPriority to acquiringintegrationhistoryrecord
--
ALTER TABLE "AcquiringIntegrationHistoryRecord" DROP COLUMN "displayPriority" CASCADE;
--
-- Add field label to acquiringintegration
--
ALTER TABLE "AcquiringIntegration" DROP COLUMN "label" CASCADE;
--
-- Add field displayPriority to acquiringintegration
--
ALTER TABLE "AcquiringIntegration" DROP COLUMN "displayPriority" CASCADE;
--
-- Add field detailedDescription to acquiringintegration
--
ALTER TABLE "AcquiringIntegration" DROP COLUMN "detailedDescription" CASCADE;
--
-- Remove field connectedMessage from billingintegrationhistoryrecord
--
ALTER TABLE "BillingIntegrationHistoryRecord" ADD COLUMN "connectedMessage" jsonb NULL;
--
-- Remove field instruction from billingintegration
--
ALTER TABLE "BillingIntegration" ADD COLUMN "instruction" text NULL;
--
-- Remove field connectedMessage from billingintegration
--
ALTER TABLE "BillingIntegration" ADD COLUMN "connectedMessage" text NULL;
--
-- Remove field connectedMessage from b2bapphistoryrecord
--
ALTER TABLE "B2BAppHistoryRecord" ADD COLUMN "connectedMessage" jsonb NULL;
--
-- Remove field instruction from b2bapp
--
ALTER TABLE "B2BApp" ADD COLUMN "instruction" text NULL;
--
-- Remove field connectedMessage from b2bapp
--
ALTER TABLE "B2BApp" ADD COLUMN "connectedMessage" text NULL;
--
-- Remove field connectedMessage from acquiringintegrationhistoryrecord
--
ALTER TABLE "AcquiringIntegrationHistoryRecord" ADD COLUMN "connectedMessage" jsonb NULL;
--
-- Remove field instruction from acquiringintegration
--
ALTER TABLE "AcquiringIntegration" ADD COLUMN "instruction" text NULL;
--
-- Remove field connectedMessage from acquiringintegration
--
ALTER TABLE "AcquiringIntegration" ADD COLUMN "connectedMessage" text NULL;
--
-- Rename field instruction on billingintegrationhistoryrecord to detailedDescription
--
ALTER TABLE "BillingIntegrationHistoryRecord" RENAME COLUMN "detailedDescription" TO "instruction";
--
-- Rename field instruction on b2bapphistoryrecord to detailedDescription
--
ALTER TABLE "B2BAppHistoryRecord" RENAME COLUMN "detailedDescription" TO "instruction";
--
-- Rename field instruction on acquiringintegrationhistoryrecord to detailedDescription
--
ALTER TABLE "AcquiringIntegrationHistoryRecord" RENAME COLUMN "detailedDescription" TO "instruction";
COMMIT;

    `)
}
