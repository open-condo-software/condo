// auto generated by kmigrator
// KMIGRATOR:0195_b2bapppromoblock_external_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMS4yIG9uIDIwMjItMTItMDEgMTA6MjYKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxOTRfcmVuYW1lX2luc3RydWN0aW9uX2FjcXVpcmluZ2ludGVncmF0aW9uaGlzdG9yeXJlY29yZF9kZXRhaWxlZGRlc2NyaXB0aW9uX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiMmJhcHBwcm9tb2Jsb2NrJywKICAgICAgICAgICAgbmFtZT0nZXh0ZXJuYWwnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGRlZmF1bHQ9RmFsc2UpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYjJiYXBwcHJvbW9ibG9ja2hpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdleHRlcm5hbCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field external to b2bapppromoblock
--
ALTER TABLE "B2BAppPromoBlock" ADD COLUMN "external" boolean DEFAULT false NOT NULL;
ALTER TABLE "B2BAppPromoBlock" ALTER COLUMN "external" DROP DEFAULT;
--
-- Add field external to b2bapppromoblockhistoryrecord
--
ALTER TABLE "B2BAppPromoBlockHistoryRecord" ADD COLUMN "external" boolean NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field external to b2bapppromoblockhistoryrecord
--
ALTER TABLE "B2BAppPromoBlockHistoryRecord" DROP COLUMN "external" CASCADE;
--
-- Add field external to b2bapppromoblock
--
ALTER TABLE "B2BAppPromoBlock" DROP COLUMN "external" CASCADE;
COMMIT;

    `)
}
