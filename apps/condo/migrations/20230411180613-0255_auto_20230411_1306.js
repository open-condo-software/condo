// auto generated by kmigrator
// KMIGRATOR:0255_auto_20230411_1306:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMSBvbiAyMDIzLTA0LTExIDEzOjA2Cgpmcm9tIGRqYW5nby5kYiBpbXBvcnQgbWlncmF0aW9ucwoKCmNsYXNzIE1pZ3JhdGlvbihtaWdyYXRpb25zLk1pZ3JhdGlvbik6CgogICAgZGVwZW5kZW5jaWVzID0gWwogICAgICAgICgnX2RqYW5nb19zY2hlbWEnLCAnMDI1NF9iYW5rYWNjb3VudHJlcG9ydHRhc2toaXN0b3J5cmVjb3JkX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
        --
        -- [CUSTOM] Set Statement Timeout to some large amount - 25 min (25 * 60 => 1500 sec)
        --
        SET statement_timeout = '1500s';  
        UPDATE "OrganizationEmployeeRole"
        SET "canManageBankAccountReportTasks" = true
        WHERE "name" = 'employee.role.Administrator.name';
        --
        -- [CUSTOM] Revert Statement Timeout to default amount - 10 secs
        --
        SET statement_timeout = '10s';
    `)
}

exports.down = async (knex) => {
    await knex.raw(`
        --
        -- [CUSTOM] Set Statement Timeout to some large amount - 25 min (25 * 60 => 1500 sec)
        --
        SET statement_timeout = '1500s';  
        UPDATE "OrganizationEmployeeRole"
        SET "canManageBankAccountReportTasks" = false
        WHERE "name" = 'employee.role.Administrator.name';
        --
        -- [CUSTOM] Revert Statement Timeout to default amount - 10 secs
        --
        SET statement_timeout = '10s';
    `)
}
