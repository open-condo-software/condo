// auto generated by kmigrator
// KMIGRATOR:0119_remove_ticketcomment_meta_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMCBvbiAyMDIyLTA0LTEwIDA4OjI4Cgpmcm9tIGRqYW5nby5kYiBpbXBvcnQgbWlncmF0aW9ucwoKCmNsYXNzIE1pZ3JhdGlvbihtaWdyYXRpb25zLk1pZ3JhdGlvbik6CgogICAgZGVwZW5kZW5jaWVzID0gWwogICAgICAgICgnX2RqYW5nb19zY2hlbWEnLCAnMDExOF90aWNrZXRjb21tZW50ZmlsZWhpc3RvcnlyZWNvcmRfdGlja2V0Y29tbWVudF9tZXRhX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjb21tZW50JywKICAgICAgICAgICAgbmFtZT0nbWV0YScsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjb21tZW50aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J21ldGEnLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field meta from ticketcomment
--
ALTER TABLE "TicketComment" DROP COLUMN "meta" CASCADE;
--
-- Remove field meta from ticketcommenthistoryrecord
--
ALTER TABLE "TicketCommentHistoryRecord" DROP COLUMN "meta" CASCADE;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field meta from ticketcommenthistoryrecord
--
ALTER TABLE "TicketCommentHistoryRecord" ADD COLUMN "meta" jsonb NULL;
--
-- Remove field meta from ticketcomment
--
ALTER TABLE "TicketComment" ADD COLUMN "meta" jsonb NULL;
COMMIT;

    `)
}
