// auto generated by kmigrator
// KMIGRATOR:0091_auto_20211228_1225:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi44IG9uIDIwMjEtMTItMjggMTI6MjUKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwOTBfYWx0ZXJfbWV0ZXJyZWFkaW5nc291cmNlX3R5cGUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2JpbGxpbmdpbnRlZ3JhdGlvbmFjY2Vzc3JpZ2h0JywKICAgICAgICAgICAgbmFtZT0nZGVsZXRlZEF0JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkRhdGVUaW1lRmllbGQoYmxhbms9VHJ1ZSwgZGJfaW5kZXg9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2JpbGxpbmdpbnRlZ3JhdGlvbmFjY2Vzc3JpZ2h0JywKICAgICAgICAgICAgbmFtZT0nbmV3SWQnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuVVVJREZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiaWxsaW5naW50ZWdyYXRpb25hY2Nlc3NyaWdodCcsCiAgICAgICAgICAgIG5hbWU9J3YnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSW50ZWdlckZpZWxkKGRlZmF1bHQ9MSksCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field deletedAt to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" ADD COLUMN "deletedAt" timestamp with time zone NULL;
--
-- Add field newId to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" ADD COLUMN "newId" uuid NULL;
--
-- Add field v to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" ADD COLUMN "v" integer DEFAULT 1 NOT NULL;
ALTER TABLE "BillingIntegrationAccessRight" ALTER COLUMN "v" DROP DEFAULT;
CREATE INDEX "BillingIntegrationAccessRight_deletedAt_d899813f" ON "BillingIntegrationAccessRight" ("deletedAt");
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field v to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" DROP COLUMN "v" CASCADE;
--
-- Add field newId to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" DROP COLUMN "newId" CASCADE;
--
-- Add field deletedAt to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" DROP COLUMN "deletedAt" CASCADE;
COMMIT;

    `)
}
