// auto generated by kmigrator
// KMIGRATOR:0111_billingrecipient_billingrecipient_unique_context_tin_iec_bic_bankaccount:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi40IG9uIDIwMjItMDMtMTQgMTc6MjIKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxMTBfYXV0b18yMDIyMDMxMF8wNTU5JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZENvbnN0cmFpbnQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2JpbGxpbmdyZWNpcGllbnQnLAogICAgICAgICAgICBjb25zdHJhaW50PW1vZGVscy5VbmlxdWVDb25zdHJhaW50KGZpZWxkcz0oJ2NvbnRleHQnLCAndGluJywgJ2llYycsICdiaWMnLCAnYmFua0FjY291bnQnKSwgbmFtZT0nYmlsbGluZ1JlY2lwaWVudF91bmlxdWVfY29udGV4dF90aW5faWVjX2JpY19iYW5rQWNjb3VudCcpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create constraint billingRecipient_unique_context_tin_iec_bic_bankAccount on model billingrecipient
--
ALTER TABLE "BillingRecipient" ADD CONSTRAINT "billingRecipient_unique_context_tin_iec_bic_bankAccount" UNIQUE ("context", "tin", "iec", "bic", "bankAccount");
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create constraint billingRecipient_unique_context_tin_iec_bic_bankAccount on model billingrecipient
--
ALTER TABLE "BillingRecipient" DROP CONSTRAINT "billingRecipient_unique_context_tin_iec_bic_bankAccount";
COMMIT;

    `)
}
