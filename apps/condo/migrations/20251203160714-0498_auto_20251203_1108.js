// auto generated by kmigrator
// KMIGRATOR:0498_auto_20251203_1108:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjUtMTItMDMgMTE6MDgKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA0OTdfYXV0b18yMDI1MTIwMl8xNjQ0JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0ndHlwZScsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3R5cGUnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbicsCiAgICAgICAgICAgIG5hbWU9J29yZGVyJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChkZWZhdWx0PTApLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdvcmRlcicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5JbnRlZ2VyRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field type from subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "type" CASCADE;
--
-- Remove field type from subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "type" CASCADE;
--
-- Add field order to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "order" integer DEFAULT 0 NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "order" DROP DEFAULT;
--
-- Add field order to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "order" integer NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field order to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "order" CASCADE;
--
-- Add field order to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "order" CASCADE;
--
-- Remove field type from subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "type" text NULL;
--
-- Remove field type from subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "type" varchar(50) NOT NULL;
COMMIT;

    `)
}
