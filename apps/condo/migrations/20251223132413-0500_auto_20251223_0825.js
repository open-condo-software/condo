// auto generated by kmigrator
// KMIGRATOR:0500_auto_20251223_0825:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjUtMTItMjMgMDg6MjUKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzA0OTlfYXV0b18yMDI1MTIxMV8wNjI1JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0ncGFzc1RpY2tldHMnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdwYXNzVGlja2V0cycsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0nY3VzdG9taXphdGlvbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0nZGlzYWJsZWRCMkJBcHBzJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkpTT05GaWVsZChkZWZhdWx0PVtdKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbnBsYW4nLAogICAgICAgICAgICBuYW1lPSdkaXNhYmxlZEIyQ0FwcHMnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSlNPTkZpZWxkKGRlZmF1bHQ9W10pLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbicsCiAgICAgICAgICAgIG5hbWU9J21ldGVycycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuJywKICAgICAgICAgICAgbmFtZT0ncGF5bWVudHMnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGRlZmF1bHQ9RmFsc2UpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbicsCiAgICAgICAgICAgIG5hbWU9J3RpY2tldHMnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGRlZmF1bHQ9RmFsc2UpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdjdXN0b21pemF0aW9uJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdkaXNhYmxlZEIyQkFwcHMnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuSlNPTkZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzdWJzY3JpcHRpb25wbGFuaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2Rpc2FibGVkQjJDQXBwcycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5KU09ORmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbnBsYW5oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0nbWV0ZXJzJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc3Vic2NyaXB0aW9ucGxhbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdwYXltZW50cycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3N1YnNjcmlwdGlvbnBsYW5oaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgbmFtZT0ndGlja2V0cycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field passTickets from subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "passTickets" CASCADE;
--
-- Remove field passTickets from subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "passTickets" CASCADE;
--
-- Add field customization to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "customization" boolean DEFAULT false NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "customization" DROP DEFAULT;
--
-- Add field disabledB2BApps to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "disabledB2BApps" jsonb DEFAULT '[]' NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "disabledB2BApps" DROP DEFAULT;
--
-- Add field disabledB2CApps to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "disabledB2CApps" jsonb DEFAULT '[]' NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "disabledB2CApps" DROP DEFAULT;
--
-- Add field meters to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "meters" boolean DEFAULT false NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "meters" DROP DEFAULT;
--
-- Add field payments to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "payments" boolean DEFAULT false NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "payments" DROP DEFAULT;
--
-- Add field tickets to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "tickets" boolean DEFAULT false NOT NULL;
ALTER TABLE "SubscriptionPlan" ALTER COLUMN "tickets" DROP DEFAULT;
--
-- Add field customization to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "customization" boolean NULL;
--
-- Add field disabledB2BApps to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "disabledB2BApps" jsonb NULL;
--
-- Add field disabledB2CApps to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "disabledB2CApps" jsonb NULL;
--
-- Add field meters to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "meters" boolean NULL;
--
-- Add field payments to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "payments" boolean NULL;
--
-- Add field tickets to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "tickets" boolean NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field tickets to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "tickets" CASCADE;
--
-- Add field payments to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "payments" CASCADE;
--
-- Add field meters to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "meters" CASCADE;
--
-- Add field disabledB2CApps to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "disabledB2CApps" CASCADE;
--
-- Add field disabledB2BApps to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "disabledB2BApps" CASCADE;
--
-- Add field customization to subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" DROP COLUMN "customization" CASCADE;
--
-- Add field tickets to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "tickets" CASCADE;
--
-- Add field payments to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "payments" CASCADE;
--
-- Add field meters to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "meters" CASCADE;
--
-- Add field disabledB2CApps to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "disabledB2CApps" CASCADE;
--
-- Add field disabledB2BApps to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "disabledB2BApps" CASCADE;
--
-- Add field customization to subscriptionplan
--
ALTER TABLE "SubscriptionPlan" DROP COLUMN "customization" CASCADE;
--
-- Remove field passTickets from subscriptionplanhistoryrecord
--
ALTER TABLE "SubscriptionPlanHistoryRecord" ADD COLUMN "passTickets" boolean NULL;
--
-- Remove field passTickets from subscriptionplan
--
ALTER TABLE "SubscriptionPlan" ADD COLUMN "passTickets" boolean NOT NULL;
COMMIT;

    `)
}
