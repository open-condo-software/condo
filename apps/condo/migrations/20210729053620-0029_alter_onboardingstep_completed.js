// auto generated by kmigrator
// KMIGRATOR:0029_alter_onboardingstep_completed:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjEtMDctMjkgMDU6MzYKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwMjhfb25ib2FyZGluZ19vbmJvYXJkaW5naGlzdG9yeXJlY29yZF9vbmJvYXJkaW5nc3RlcF9vbmJvYXJkaW5nc3RlcGhpc3RvcnlyZWNvcmQnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWx0ZXJGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nb25ib2FyZGluZ3N0ZXAnLAogICAgICAgICAgICBuYW1lPSdjb21wbGV0ZWQnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGRlZmF1bHQ9RmFsc2UpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field completed on onboardingstep
--
ALTER TABLE "OnBoardingStep" ALTER COLUMN "completed" SET DEFAULT false;
UPDATE "OnBoardingStep" SET "completed" = false WHERE "completed" IS NULL;
ALTER TABLE "OnBoardingStep" ALTER COLUMN "completed" SET NOT NULL;
ALTER TABLE "OnBoardingStep" ALTER COLUMN "completed" DROP DEFAULT;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field completed on onboardingstep
--
ALTER TABLE "OnBoardingStep" ALTER COLUMN "completed" DROP NOT NULL;
COMMIT;

    `)
}
