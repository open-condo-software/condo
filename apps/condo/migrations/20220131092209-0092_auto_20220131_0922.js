// auto generated by kmigrator
// KMIGRATOR:0092_auto_20220131_0922:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi44IG9uIDIwMjItMDEtMzEgMDk6MjIKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwOTFfdGlja2V0X2lzd2FycmFudHlfdGlja2V0Y2hhbmdlX2lzd2FycmFudHlmcm9tX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiaWxsaW5naW50ZWdyYXRpb25hY2Nlc3NyaWdodCcsCiAgICAgICAgICAgIG5hbWU9J2RlbGV0ZWRBdCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5EYXRlVGltZUZpZWxkKGJsYW5rPVRydWUsIGRiX2luZGV4PVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdiaWxsaW5naW50ZWdyYXRpb25hY2Nlc3NyaWdodCcsCiAgICAgICAgICAgIG5hbWU9J25ld0lkJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLlVVSURGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYmlsbGluZ2ludGVncmF0aW9uYWNjZXNzcmlnaHQnLAogICAgICAgICAgICBuYW1lPSd2JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkludGVnZXJGaWVsZChkZWZhdWx0PTEpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field deletedAt to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" ADD COLUMN "deletedAt" timestamp with time zone NULL;
--
-- Add field newId to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" ADD COLUMN "newId" uuid NULL;
--
-- Add field v to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" ADD COLUMN "v" integer DEFAULT 1 NOT NULL;
ALTER TABLE "BillingIntegrationAccessRight" ALTER COLUMN "v" DROP DEFAULT;
CREATE INDEX "BillingIntegrationAccessRight_deletedAt_d899813f" ON "BillingIntegrationAccessRight" ("deletedAt");
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field v to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" DROP COLUMN "v" CASCADE;
--
-- Add field newId to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" DROP COLUMN "newId" CASCADE;
--
-- Add field deletedAt to billingintegrationaccessright
--
ALTER TABLE "BillingIntegrationAccessRight" DROP COLUMN "deletedAt" CASCADE;
COMMIT;

    `)
}
