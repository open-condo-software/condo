// auto generated by kmigrator
// KMIGRATOR:0093_rename_timeframe_ticket_deadline_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMCBvbiAyMDIyLTAxLTMwIDE2OjQzCgpmcm9tIGRqYW5nby5kYiBpbXBvcnQgbWlncmF0aW9ucwoKCmNsYXNzIE1pZ3JhdGlvbihtaWdyYXRpb25zLk1pZ3JhdGlvbik6CgogICAgZGVwZW5kZW5jaWVzID0gWwogICAgICAgICgnX2RqYW5nb19zY2hlbWEnLCAnMDA5Ml90aWNrZXRfdGltZWZyYW1lX3RpY2tldGNoYW5nZV90aW1lZnJhbWVmcm9tX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbmFtZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXQnLAogICAgICAgICAgICBvbGRfbmFtZT0ndGltZUZyYW1lJywKICAgICAgICAgICAgbmV3X25hbWU9J2RlYWRsaW5lJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVuYW1lRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG9sZF9uYW1lPSd0aW1lRnJhbWVGcm9tJywKICAgICAgICAgICAgbmV3X25hbWU9J2RlYWRsaW5lRnJvbScsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbmFtZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBvbGRfbmFtZT0ndGltZUZyYW1lVG8nLAogICAgICAgICAgICBuZXdfbmFtZT0nZGVhZGxpbmVUbycsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbmFtZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRoaXN0b3J5cmVjb3JkJywKICAgICAgICAgICAgb2xkX25hbWU9J3RpbWVGcmFtZScsCiAgICAgICAgICAgIG5ld19uYW1lPSdkZWFkbGluZScsCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Rename field timeFrame on ticket to deadline
--
ALTER TABLE "Ticket" RENAME COLUMN "timeFrame" TO "deadline";
--
-- Rename field timeFrameFrom on ticketchange to deadlineFrom
--
ALTER TABLE "TicketChange" RENAME COLUMN "timeFrameFrom" TO "deadlineFrom";
--
-- Rename field timeFrameTo on ticketchange to deadlineTo
--
ALTER TABLE "TicketChange" RENAME COLUMN "timeFrameTo" TO "deadlineTo";
--
-- Rename field timeFrame on tickethistoryrecord to deadline
--
ALTER TABLE "TicketHistoryRecord" RENAME COLUMN "timeFrame" TO "deadline";
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Rename field timeFrame on tickethistoryrecord to deadline
--
ALTER TABLE "TicketHistoryRecord" RENAME COLUMN "deadline" TO "timeFrame";
--
-- Rename field timeFrameTo on ticketchange to deadlineTo
--
ALTER TABLE "TicketChange" RENAME COLUMN "deadlineTo" TO "timeFrameTo";
--
-- Rename field timeFrameFrom on ticketchange to deadlineFrom
--
ALTER TABLE "TicketChange" RENAME COLUMN "deadlineFrom" TO "timeFrameFrom";
--
-- Rename field timeFrame on ticket to deadline
--
ALTER TABLE "Ticket" RENAME COLUMN "deadline" TO "timeFrame";
COMMIT;

    `)
}
