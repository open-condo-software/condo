// auto generated by kmigrator
// KMIGRATOR:0031_alter_forgotpasswordaction_token:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi41IG9uIDIwMjEtMDctMzAgMDY6MTMNCg0KZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1pZ3JhdGlvbnMsIG1vZGVscw0KDQoNCmNsYXNzIE1pZ3JhdGlvbihtaWdyYXRpb25zLk1pZ3JhdGlvbik6DQoNCiAgICBkZXBlbmRlbmNpZXMgPSBbDQogICAgICAgICgnX2RqYW5nb19zY2hlbWEnLCAnMDAzMF91c2VyaGlzdG9yeXJlY29yZF9oYXNlbWFpbCcpLA0KICAgIF0NCg0KICAgIG9wZXJhdGlvbnMgPSBbDQogICAgICAgIG1pZ3JhdGlvbnMuQWx0ZXJGaWVsZCgNCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2ZvcmdvdHBhc3N3b3JkYWN0aW9uJywNCiAgICAgICAgICAgIG5hbWU9J3Rva2VuJywNCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5UZXh0RmllbGQodW5pcXVlPVRydWUpLA0KICAgICAgICApLA0KICAgIF0NCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field token on forgotpasswordaction
--
ALTER TABLE "ForgotPasswordAction" ADD CONSTRAINT "ForgotPasswordAction_token_9a0cc9b4_uniq" UNIQUE ("token");
CREATE INDEX "ForgotPasswordAction_token_9a0cc9b4_like" ON "ForgotPasswordAction" ("token" text_pattern_ops);
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field token on forgotpasswordaction
--
DROP INDEX IF EXISTS "ForgotPasswordAction_token_9a0cc9b4_like";
COMMIT;

    `)
}
