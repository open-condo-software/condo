// auto generated by kmigrator
// KMIGRATOR:0468_remove_ticketchange_lastcommentwithorganizationtypeatfrom_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDUuMC43IG9uIDIwMjUtMDQtMTYgMTU6MzMKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwNDY3X2IyYmFwcGFjY2Vzc3JpZ2h0c2V0X2Nhbm1hbmFnZXBheW1lbnRzX2FuZF9tb3JlJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSdsYXN0Q29tbWVudFdpdGhPcmdhbml6YXRpb25UeXBlQXRGcm9tJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J2xhc3RDb21tZW50V2l0aE9yZ2FuaXphdGlvblR5cGVBdFRvJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3RpY2tldGNoYW5nZScsCiAgICAgICAgICAgIG5hbWU9J2xhc3RDb21tZW50V2l0aFJlc2lkZW50VHlwZUNyZWF0ZWRCeVVzZXJUeXBlRnJvbScsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXRjaGFuZ2UnLAogICAgICAgICAgICBuYW1lPSdsYXN0Q29tbWVudFdpdGhSZXNpZGVudFR5cGVDcmVhdGVkQnlVc2VyVHlwZVRvJywKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field lastCommentWithOrganizationTypeAtFrom from ticketchange
--
-- ALTER TABLE "TicketChange" DROP COLUMN "lastCommentWithOrganizationTypeAtFrom" CASCADE;
--
-- Remove field lastCommentWithOrganizationTypeAtTo from ticketchange
--
-- ALTER TABLE "TicketChange" DROP COLUMN "lastCommentWithOrganizationTypeAtTo" CASCADE;
--
-- Remove field lastCommentWithResidentTypeCreatedByUserTypeFrom from ticketchange
--
-- ALTER TABLE "TicketChange" DROP COLUMN "lastCommentWithResidentTypeCreatedByUserTypeFrom" CASCADE;
--
-- Remove field lastCommentWithResidentTypeCreatedByUserTypeTo from ticketchange
--
-- ALTER TABLE "TicketChange" DROP COLUMN "lastCommentWithResidentTypeCreatedByUserTypeTo" CASCADE;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field lastCommentWithResidentTypeCreatedByUserTypeTo from ticketchange
--
-- ALTER TABLE "TicketChange" ADD COLUMN "lastCommentWithResidentTypeCreatedByUserTypeTo" varchar(50) NULL;
--
-- Remove field lastCommentWithResidentTypeCreatedByUserTypeFrom from ticketchange
--
-- ALTER TABLE "TicketChange" ADD COLUMN "lastCommentWithResidentTypeCreatedByUserTypeFrom" varchar(50) NULL;
--
-- Remove field lastCommentWithOrganizationTypeAtTo from ticketchange
--
-- ALTER TABLE "TicketChange" ADD COLUMN "lastCommentWithOrganizationTypeAtTo" timestamp with time zone NULL;
--
-- Remove field lastCommentWithOrganizationTypeAtFrom from ticketchange
--
-- ALTER TABLE "TicketChange" ADD COLUMN "lastCommentWithOrganizationTypeAtFrom" timestamp with time zone NULL;
COMMIT;

    `)
}
