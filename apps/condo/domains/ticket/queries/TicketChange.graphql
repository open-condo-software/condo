query getTicketChanges ($ticketId: ID!) {
    ticketChanges: allTicketChanges (
        where: {
            ticket: { id: $ticketId }
        },
        sortBy: [actualCreationDate_DESC]
        first: 100,
    ) {
        id
        actualCreationDate
        createdAt
        createdBy {
            id
            name
        }
        changedByRole

        # data fields
        canReadByResidentFrom
        canReadByResidentTo
        deadlineFrom
        deadlineTo
        deferredUntilFrom
        deferredUntilTo
        statusReopenedCounterFrom
        statusReopenedCounterTo
        statusReasonFrom
        statusReasonTo
        clientNameFrom
        clientNameTo
        clientEmailFrom
        clientEmailTo
        clientPhoneFrom
        clientPhoneTo
        detailsFrom
        detailsTo
        isPaidFrom
        isPaidTo
        isPayableFrom
        isPayableTo
        isEmergencyFrom
        isEmergencyTo
        isWarrantyFrom
        isWarrantyTo
        metaFrom
        metaTo
        sectionNameFrom
        sectionNameTo
        sectionTypeFrom
        sectionTypeTo
        floorNameFrom
        floorNameTo
        unitNameFrom
        unitNameTo
        unitTypeFrom
        unitTypeTo
        sourceMetaFrom
        sourceMetaTo
        organizationIdFrom
        organizationIdTo
        organizationDisplayNameFrom
        organizationDisplayNameTo
        statusIdFrom
        statusIdTo
        statusDisplayNameFrom
        statusDisplayNameTo
        clientIdFrom
        clientIdTo
        clientDisplayNameFrom
        clientDisplayNameTo
        classifierIdFrom
        classifierIdTo
        classifierDisplayNameFrom
        classifierDisplayNameTo
        contactIdFrom
        contactIdTo
        contactDisplayNameFrom
        contactDisplayNameTo
        assigneeIdFrom
        assigneeIdTo
        assigneeDisplayNameFrom
        assigneeDisplayNameTo
        executorIdFrom
        executorIdTo
        executorDisplayNameFrom
        executorDisplayNameTo
        relatedIdFrom
        relatedIdTo
        relatedDisplayNameFrom
        relatedDisplayNameTo
        propertyIdFrom
        propertyIdTo
        propertyDisplayNameFrom
        propertyDisplayNameTo
        sourceIdFrom
        sourceIdTo
        sourceDisplayNameFrom
        sourceDisplayNameTo
        feedbackValueFrom
        feedbackValueTo
        feedbackCommentFrom
        feedbackCommentTo
        feedbackAdditionalOptionsFrom
        feedbackAdditionalOptionsTo
        qualityControlValueFrom
        qualityControlValueTo
        qualityControlCommentFrom
        qualityControlCommentTo
        qualityControlAdditionalOptionsFrom
        qualityControlAdditionalOptionsTo
        observersIdsFrom
        observersIdsTo
        observersDisplayNamesFrom
        observersDisplayNamesTo
    }
}

query checkTicketChangesExistenceByTicketId ($ticketId: ID!) {
    ticketChanges: allTicketChanges (
        where: {
            ticket: { id: $ticketId }
        },
        first: 1,
    ) {
        id
    }
}
