/**
 * Generated by `createservice onboarding.CreateOnBoardingService`
 */

const { OnBoarding } = require('@condo/domains/onboarding/utils/testSchema')
const { createOnBoardingByTestClient } = require('@condo/domains/onboarding/utils/testSchema')
const { makeClientWithNewRegisteredAndLoggedInUser } = require('@condo/domains/user/utils/testSchema')

describe('CreateOnBoardingService', () => {
    describe('user', () => {
        test('can create OnBoarding for ADMINISTRATOR role', async () => {
            const client = await makeClientWithNewRegisteredAndLoggedInUser()
            const { user } = client

            const payload = { type: 'ADMINISTRATOR', userId: user.id }
            const [data] = await createOnBoardingByTestClient(client, payload)
            const { id } = data
            const [obj] = await OnBoarding.getAll(client, { id })

            expect(obj.type).toStrictEqual('ADMINISTRATOR')
        })
    })
})
