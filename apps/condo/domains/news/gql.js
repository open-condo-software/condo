/**
 * Generated by `createschema news.OrganizationNewsItem 'organization:Relationship:Organization:CASCADE; title:Text; body:Text; type:Select:common,emergency'`
 * In most cases you should not change it by hands
 * Please, don't remove `AUTOGENERATE MARKER`s
 */

const { gql } = require('@apollo/client')

const { generateGqlQueries } = require('@open-condo/codegen/generate.gql')

const { ADDRESS_META_SUBFIELDS_TABLE_LIST } = require('@condo/domains/property/schema/fields/AddressMetaField')

const COMMON_FIELDS = 'id dv sender { dv fingerprint } v deletedAt newId createdBy { id name } updatedBy { id name } createdAt updatedAt'

const NEWS_ITEM_FIELDS = `{ organization { id } number title body type validBefore sendAt sentAt isPublished ${COMMON_FIELDS} }`
const NewsItem = generateGqlQueries('NewsItem', NEWS_ITEM_FIELDS)

const NEWS_ITEM_SCOPE_FIELDS = `{ newsItem { id organization { id } number isPublished } property { id address addressMeta { ${ADDRESS_META_SUBFIELDS_TABLE_LIST} } } unitType unitName ${COMMON_FIELDS} }`
const NewsItemScope = generateGqlQueries('NewsItemScope', NEWS_ITEM_SCOPE_FIELDS)

const NEWS_ITEM_TEMPLATE_FIELDS = `{ organization { id } title body ${COMMON_FIELDS} }`
const NewsItemTemplate = generateGqlQueries('NewsItemTemplate', NEWS_ITEM_TEMPLATE_FIELDS)

const NEWS_ITEM_USER_READ_FIELDS = `{ newsItem { id } user { id } ${COMMON_FIELDS} }`
const NewsItemUserRead = generateGqlQueries('NewsItemUserRead', NEWS_ITEM_USER_READ_FIELDS)

const EXPORT_NEWS_RECIPIENTS_MUTATION = gql`
    mutation exportNewsRecipients ($data: ExportNewsRecipientsInput!) {
        result: exportNewsRecipients(data: $data) { status linkToFile }
    }
`

/* AUTOGENERATE MARKER <CONST> */

module.exports = {
    NewsItem,
    NewsItemScope,
    NewsItemTemplate,
    NewsItemUserRead,
    EXPORT_NEWS_RECIPIENTS_MUTATION,
/* AUTOGENERATE MARKER <EXPORTS> */
}
