/**
 * Generated by `createschema marketplace.InvoiceContext 'organization:Relationship:Organization:PROTECT; recipient:Json; email:Text; settings:Json; state:Json;'`
 */

const ERROR_INVALID_MOBILE_SETTINGS = 'INVALID_MOBILE_SETTINGS'
const ERROR_INVALID_INVOICE_CONTEXT_SETTINGS = 'INVALID_INVOICE_CONTEXT_SETTINGS'
const ERROR_TAX_REGIME_AND_VAT_NOT_MATCHED = 'TAX_REGIME_AND_VAT_NOT_MATCHED'
const ERROR_NO_TIN_OR_BIC_PASSED = 'NO_TIN_OR_BIC_PASSED'
const ERROR_ORGANIZATION_NOT_FOUND = 'ORGANIZATION_NOT_FOUND'
const ERROR_BANK_NOT_FOUND = 'BANK_NOT_FOUND'
const ERROR_INVALID_INVOICE_ROWS = 'INVALID_INVOICE_ROWS'
const ERROR_INVOICE_ALREADY_PAID = 'INVOICE_ALREADY_PAID'
const ERROR_INVOICE_ALREADY_CANCELED = 'INVOICE_ALREADY_CANCELED'
const ERROR_INVOICE_EMPTY_ROWS = 'EMPTY_ROWS'
const ERROR_INVOICE_ROW_WRONG_COUNT = 'WRONG_COUNT'
const ERROR_INVOICE_ROW_WRONG_PRICE = 'WRONG_PRICE'
const ERROR_INVALID_PRICE = 'INVALID_PRICE'
const ERROR_NO_ACQUIRING_CONTEXT = 'NO_ACQUIRING_CONTEXT'
const ERROR_ITEM_FROM_OTHER_ORGANIZATION = 'ITEM_FROM_OTHER_ORGANIZATION'
const ERROR_DIFFERENT_CURRENCY_CODES_FOR_RECEIPTS_AND_INVOICES = 'DIFFERENT_CURRENCY_CODES_FOR_RECEIPTS_AND_INVOICES'
const ERROR_FORBID_EDIT_PUBLISHED = 'FORBID_EDIT_PUBLISHED'
const ERROR_CLIENT_DATA_DOES_NOT_MATCH_TICKET = 'CLIENT_DATA_DOES_NOT_MATCH_TICKET'
const ERROR_FORBID_UPDATE_TICKET = 'FORBID_UPDATE_TICKET'
const ERROR_PUBLISHING_WITHOUT_DEFINED_PRICES_FORBIDDEN = 'PUBLISHING_WITHOUT_DEFINED_PRICES_FORBIDDEN'
const ERROR_NO_FINISHED_ACQUIRING_CONTEXT = 'NO_FINISHED_ACQUIRING_CONTEXT'
const ERROR_PROHIBITED_INVOICE_PAYMENT_TYPE = 'PROHIBITED_INVOICE_PAYMENT_TYPE'

const INVOICE_STATUS_DRAFT = 'draft'
const INVOICE_STATUS_PUBLISHED = 'published'
const INVOICE_STATUS_PAID = 'paid'
const INVOICE_STATUS_CANCELED = 'canceled'
const INVOICE_STATUSES = [
    INVOICE_STATUS_DRAFT,
    INVOICE_STATUS_PUBLISHED,
    INVOICE_STATUS_PAID,
    INVOICE_STATUS_CANCELED,
]
const INVOICE_STATUS_COLORS = {
    [INVOICE_STATUS_DRAFT]: { color: '#FFFFFF', bgColor: '#707695' },
    [INVOICE_STATUS_PUBLISHED]: { color: '#FFFFFF', bgColor: '#FF9500' },
    [INVOICE_STATUS_PAID]: { color: '#FFFFFF', bgColor: '#39CE66' },
    [INVOICE_STATUS_CANCELED]: { color: '#FFFFFF', bgColor: '#B4710D' },
}
const INVOICE_STATUS_TRANSITIONS = {
    [INVOICE_STATUS_DRAFT]: [INVOICE_STATUS_PUBLISHED, INVOICE_STATUS_CANCELED],
    [INVOICE_STATUS_PUBLISHED]: [INVOICE_STATUS_PAID, INVOICE_STATUS_CANCELED],
    [INVOICE_STATUS_PAID]: [],
    [INVOICE_STATUS_CANCELED]: [],
}

const INVOICE_PAYMENT_TYPE_ONLINE = 'online'
const INVOICE_PAYMENT_TYPE_CASH = 'cash'
const INVOICE_PAYMENT_TYPES = [
    INVOICE_PAYMENT_TYPE_ONLINE,
    INVOICE_PAYMENT_TYPE_CASH,
]

const MARKETPLACE_RULES_LINK = 'https://help.doma.ai/article/197-article'
const MARKETPLACE_OFFER_LINK = 'https://help.doma.ai/article/320-214-22'
const CONNECT_EMAIL = 'sales@doma.ai'
const MARKETPLACE_SETUP_URL_PATH = '/setupMarketplace'

const BILLS_TAB_KEY = 'bills'
const PAYMENTS_TAB_KEY = 'payments'
const SERVICES_TAB_KEY = 'services'

// The default value for invoice context
const DEFAULT_IMPLICIT_FEE_PERCENT = '5'

const COMMON_RESOLVED_FIELDS = ['dv', 'sender', 'v', 'updatedAt', 'updatedBy', 'publishedAt', 'paidAt', 'canceledAt']
const CLIENT_DATA_FIELDS = ['property', 'unitName', 'unitType', 'clientName', 'clientPhone', 'contact', 'client']
const INITIAL_ROWS_VALUE = [{ name: '', count: 1, toPay: '0', measure: undefined, isMin: false }]

const DAYS_TO_CANCEL_PUBLISHED_INVOICES = 60

const DEFAULT_INVOICE_CURRENCY_CODE = 'RUB'

const MIN_PRICE_VALUE = 10

const MARKETPLACE_PRICE_SCOPE_TYPE_UNKNOWN = 'unknown'
const MARKETPLACE_PRICE_SCOPE_TYPE_ORGANIZATION = 'organization'
const MARKETPLACE_PRICE_SCOPE_TYPE_PROPERTY = 'property'

const MARKETPLACE_PRICE_SCOPES_TYPES = [
    MARKETPLACE_PRICE_SCOPE_TYPE_UNKNOWN,
    MARKETPLACE_PRICE_SCOPE_TYPE_ORGANIZATION,
    MARKETPLACE_PRICE_SCOPE_TYPE_PROPERTY,
]

module.exports = {
    ERROR_FORBID_UPDATE_TICKET,
    ERROR_CLIENT_DATA_DOES_NOT_MATCH_TICKET,
    ERROR_INVALID_INVOICE_CONTEXT_SETTINGS,
    ERROR_TAX_REGIME_AND_VAT_NOT_MATCHED,
    ERROR_NO_TIN_OR_BIC_PASSED,
    ERROR_BANK_NOT_FOUND,
    ERROR_ORGANIZATION_NOT_FOUND,
    ERROR_INVALID_INVOICE_ROWS,
    ERROR_INVOICE_ALREADY_PAID,
    ERROR_INVOICE_ALREADY_CANCELED,
    ERROR_INVOICE_EMPTY_ROWS,
    ERROR_INVOICE_ROW_WRONG_COUNT,
    ERROR_INVOICE_ROW_WRONG_PRICE,
    ERROR_FORBID_EDIT_PUBLISHED,
    ERROR_PUBLISHING_WITHOUT_DEFINED_PRICES_FORBIDDEN,
    ERROR_INVALID_MOBILE_SETTINGS,
    DEFAULT_IMPLICIT_FEE_PERCENT,
    INVOICE_STATUS_DRAFT,
    INVOICE_STATUS_PUBLISHED,
    INVOICE_STATUS_PAID,
    INVOICE_STATUS_CANCELED,
    INVOICE_STATUSES,
    INVOICE_STATUS_COLORS,
    INVOICE_STATUS_TRANSITIONS,
    ERROR_INVALID_PRICE,
    INVOICE_PAYMENT_TYPE_ONLINE,
    INVOICE_PAYMENT_TYPE_CASH,
    INVOICE_PAYMENT_TYPES,
    ERROR_NO_ACQUIRING_CONTEXT,
    ERROR_ITEM_FROM_OTHER_ORGANIZATION,
    ERROR_DIFFERENT_CURRENCY_CODES_FOR_RECEIPTS_AND_INVOICES,
    MARKETPLACE_RULES_LINK,
    MARKETPLACE_OFFER_LINK,
    CONNECT_EMAIL,
    BILLS_TAB_KEY,
    PAYMENTS_TAB_KEY,
    SERVICES_TAB_KEY,
    MARKETPLACE_SETUP_URL_PATH,
    COMMON_RESOLVED_FIELDS,
    CLIENT_DATA_FIELDS,
    INITIAL_ROWS_VALUE,
    DAYS_TO_CANCEL_PUBLISHED_INVOICES,
    ERROR_NO_FINISHED_ACQUIRING_CONTEXT,
    DEFAULT_INVOICE_CURRENCY_CODE,
    MIN_PRICE_VALUE,
    MARKETPLACE_PRICE_SCOPES_TYPES,
    MARKETPLACE_PRICE_SCOPE_TYPE_UNKNOWN,
    MARKETPLACE_PRICE_SCOPE_TYPE_ORGANIZATION,
    MARKETPLACE_PRICE_SCOPE_TYPE_PROPERTY,
    ERROR_PROHIBITED_INVOICE_PAYMENT_TYPE,
}
