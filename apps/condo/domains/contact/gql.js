/**
 * Generated by `createschema contact.Contact 'property:Relationship:Property:SET_NULL; name:Text; phone:Text; unitName?:Text; email?:Text;'`
 * In most cases you should not change it by hands
 * Please, don't remove `AUTOGENERATE MARKER`s
 */

const { gql } = require('graphql-tag')

const { generateGqlQueries } = require('@open-condo/codegen/generate.gql')

const { ADDRESS_META_SUBFIELDS_QUERY_LIST } = require('@condo/domains/property/schema/fields/AddressMetaField')

const COMMON_FIELDS = 'id dv sender { dv fingerprint } v deletedAt newId createdBy { id name } updatedBy { id name } createdAt updatedAt'

const CONTACT_FIELDS = `{ organization { id name phone phoneNumberPrefix } property { id address addressMeta { ${ADDRESS_META_SUBFIELDS_QUERY_LIST} } } name phone unitName unitType email role { id name } ownershipPercentage isVerified hasResident ${COMMON_FIELDS} }`
const Contact = generateGqlQueries('Contact', CONTACT_FIELDS)

const CONTACT_ROLE_FIELDS = `{ name organization { id name } ${COMMON_FIELDS} }`
const ContactRole = generateGqlQueries('ContactRole', CONTACT_ROLE_FIELDS)

const CONTACT_EXPORT_TASK_FIELDS = `{ status format exportedRecordsCount totalRecordsCount file { id originalFilename publicUrl mimetype } where sortBy locale timeZone user { id } __typename meta ${COMMON_FIELDS} }`
const ContactExportTask = generateGqlQueries('ContactExportTask', CONTACT_EXPORT_TASK_FIELDS)


const _INTERNAL_SYNC_CONTACTS_WITH_RESIDENTS_FOR_ORGANIZATION_MUTATION = gql`
    mutation _internalSyncContactsWithResidentsForOrganization ($data: _internalSyncContactsWithResidentsForOrganizationInput!) {
        result: _internalSyncContactsWithResidentsForOrganization(data: $data) { name, unitType, unitName, phone, email, address, isVerified }
    }
`

/* AUTOGENERATE MARKER <CONST> */

module.exports = {
    Contact,
    ContactRole,
    ContactExportTask,
    _INTERNAL_SYNC_CONTACTS_WITH_RESIDENTS_FOR_ORGANIZATION_MUTATION,
/* AUTOGENERATE MARKER <EXPORTS> */
}
