import type { CodegenConfig } from '@graphql-codegen/cli'

const codegenCommentPlugin = () => ({
    add: {
        content: [
            '// This file is autogenerated by @graphql-codegen/cli',
            '// Do not edit / add anything manually, since it will be overridden by codegen\n',
        ],
    },
})

const config: CodegenConfig = {
    overwrite: true,
    schema: '../dev-portal-api/schema.graphql',
    documents: 'domains/**/queries/*.graphql',
    require: 'ts-node/register',
    generates: {
        'gql/index.ts': {
            config: {
                preResolveTypes: true,
                onlyOperationTypes: true,
            },
            plugins: [
                codegenCommentPlugin(),
                'typescript',
                'typescript-operations',
                'typescript-react-apollo',
            ],
        },
    },
}

export default config
