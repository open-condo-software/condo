// auto generated by kmigrator
// KMIGRATOR:0007_auto_20260209_0705:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDUuMCBvbiAyMDI2LTAyLTA5IDA3OjA1Cgpmcm9tIGRqYW5nby5kYiBpbXBvcnQgbWlncmF0aW9ucwoKCmNsYXNzIE1pZ3JhdGlvbihtaWdyYXRpb25zLk1pZ3JhdGlvbik6CgogICAgZGVwZW5kZW5jaWVzID0gWwogICAgICAgICgnX2RqYW5nb19zY2hlbWEnLCAnMDAwNl9hbHRlcl9hZGRyZXNzX2tleV9hbHRlcl9hZGRyZXNzc291cmNlX3NvdXJjZV9hbmRfbW9yZScpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICBdCg==
// KMIGRATOR_VIEWS:0007_auto_20260209_0705:eyJkdiI6MSwibGlzdHMiOnsiVXNlciI6eyJmaWVsZHMiOlsiY3JlYXRlZEF0IiwiY3JlYXRlZEJ5IiwiZGVsZXRlZEF0IiwiZHYiLCJlbWFpbCIsImlkIiwiaXNBZG1pbiIsImlzU3VwcG9ydCIsIm5hbWUiLCJuZXdJZCIsInBhc3N3b3JkIiwic2VuZGVyIiwidXBkYXRlZEF0IiwidXBkYXRlZEJ5IiwidiJdLCJzZW5zaXRpdmVGaWVsZHMiOlsiZW1haWwiLCJuYW1lIiwicGFzc3dvcmQiXX0sIkFkZHJlc3MiOnsiZmllbGRzIjpbImFkZHJlc3MiLCJjcmVhdGVkQXQiLCJjcmVhdGVkQnkiLCJkZWxldGVkQXQiLCJkdiIsImlkIiwia2V5IiwibWV0YSIsIm5ld0lkIiwib3ZlcnJpZGVzIiwic2VuZGVyIiwidXBkYXRlZEF0IiwidXBkYXRlZEJ5IiwidiJdLCJzZW5zaXRpdmVGaWVsZHMiOltdfSwiQWRkcmVzc0luamVjdGlvbiI6eyJmaWVsZHMiOlsiYXJlYSIsImJsb2NrIiwiY2l0eSIsImNpdHlEaXN0cmljdCIsImNvdW50cnkiLCJjcmVhdGVkQXQiLCJjcmVhdGVkQnkiLCJkZWxldGVkQXQiLCJkdiIsImhvdXNlIiwiaWQiLCJrZXl3b3JkcyIsIm1ldGEiLCJuZXdJZCIsInJlZ2lvbiIsInNlbmRlciIsInNldHRsZW1lbnQiLCJzdHJlZXQiLCJ1cGRhdGVkQXQiLCJ1cGRhdGVkQnkiLCJ2Il0sInNlbnNpdGl2ZUZpZWxkcyI6W119LCJBZGRyZXNzU291cmNlIjp7ImZpZWxkcyI6WyJhZGRyZXNzIiwiY3JlYXRlZEF0IiwiY3JlYXRlZEJ5IiwiZGVsZXRlZEF0IiwiZHYiLCJpZCIsIm5ld0lkIiwic2VuZGVyIiwic291cmNlIiwidXBkYXRlZEF0IiwidXBkYXRlZEJ5IiwidiJdLCJzZW5zaXRpdmVGaWVsZHMiOltdfX19

exports.up = async (knex) => {
    await knex.raw(`
    
--
-- Create analytics schema
--
CREATE SCHEMA IF NOT EXISTS "analytics";
--
-- Create view for "User" table
--
CREATE OR REPLACE VIEW "analytics"."User" AS (SELECT NULL AS "email", NULL AS "name", NULL AS "password", "createdAt", "createdBy", "deletedAt", "dv", "id", "isAdmin", "isSupport", "newId", "sender", "updatedAt", "updatedBy", "v" FROM "public"."User");
--
-- Create view for "Address" table
--
CREATE OR REPLACE VIEW "analytics"."Address" AS (SELECT "address", "createdAt", "createdBy", "deletedAt", "dv", "id", "key", "meta", "newId", "overrides", "sender", "updatedAt", "updatedBy", "v" FROM "public"."Address");
--
-- Create view for "AddressInjection" table
--
CREATE OR REPLACE VIEW "analytics"."AddressInjection" AS (SELECT "area", "block", "city", "cityDistrict", "country", "createdAt", "createdBy", "deletedAt", "dv", "house", "id", "keywords", "meta", "newId", "region", "sender", "settlement", "street", "updatedAt", "updatedBy", "v" FROM "public"."AddressInjection");
--
-- Create view for "AddressSource" table
--
CREATE OR REPLACE VIEW "analytics"."AddressSource" AS (SELECT "address", "createdAt", "createdBy", "deletedAt", "dv", "id", "newId", "sender", "source", "updatedAt", "updatedBy", "v" FROM "public"."AddressSource");

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    
--
-- Remove view for "User" table
--
DROP VIEW IF EXISTS "analytics"."User";
--
-- Remove view for "Address" table
--
DROP VIEW IF EXISTS "analytics"."Address";
--
-- Remove view for "AddressInjection" table
--
DROP VIEW IF EXISTS "analytics"."AddressInjection";
--
-- Remove view for "AddressSource" table
--
DROP VIEW IF EXISTS "analytics"."AddressSource";
--
-- Drop analytics schema
--
DROP SCHEMA IF EXISTS "analytics";

    `)
}
