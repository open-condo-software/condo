// auto generated by kmigrator
// KMIGRATOR:0002_remove_user_password_and_more:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDQuMC4xIG9uIDIwMjItMDgtMTcgMDQ6NDcKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwMDAxX2luaXRpYWwnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3VzZXInLAogICAgICAgICAgICBuYW1lPSdwYXNzd29yZCcsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd1c2VyaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3Bhc3N3b3JkJywKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field password from user
--
ALTER TABLE "User" DROP COLUMN "password" CASCADE;
--
-- Remove field password from userhistoryrecord
--
ALTER TABLE "UserHistoryRecord" DROP COLUMN "password" CASCADE;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field password from userhistoryrecord
--
ALTER TABLE "UserHistoryRecord" ADD COLUMN "password" text NULL;
--
-- Remove field password from user
--
ALTER TABLE "User" ADD COLUMN "password" varchar(60) NOT NULL;
COMMIT;

    `)
}
