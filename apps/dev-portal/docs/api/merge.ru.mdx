## О склейке данных

Мы предполагаем, что данными из нашего API пользуются сторонние сервисы.
Это значит, что мы должны дать им механизмы, позволяющие видеть изменения наших объектов.
У нас есть некоторые встроенные [системные поля](/docs/api/about#%D0%B1%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5-%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D1%8B-%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%B0),
показывающие когда и кто создавал/обновлял объекты.

Бывают ситуации, когда пользователь нашей системы допускает дубли в своих данных,
это значит, что были заведены два одинаковых бизнес объекта, и эти объекты разошлись в другие системы,
где кто-то мог успеть использовать эти объекты в какой-то логике.

Например, у нас есть "Объект общей собственности" (`Property`), и оператор по ошибке завел два дубликата этого объекта
с одинаковым адресом. Это попало в биллинговые системы,
и там к объектам уже успели привязать "Лицевые Счета" (`BillingAccount` / `BankingAccount`), и клиент уже успел выполнить "Платежи" (`Payment`).

Фактически, мы должны произвести процедуру склеивания двух одинаковых объектов.
Для этого мы [удалим](/docs/api/soft-delete) один из объектов (не важно, какой из двух) и проставляем в нем поля `newId`.

Бывают ситуации, когда мы принимаем решение, что объекты слишком разные и более не являются одной сущностью.

Например, у нас есть объект "Здание" у которого есть атрибут "тип_здания",
он может принимать значения "внутренний паркинг", "многоквартирный дом", "отдельно стоящий паркинг".
Через некоторое время, мы поняли, что объекты с атрибутом "внутренний паркинг" являются самостоятельными бизнес сущностями
и имеют собственный жизненный цикл. Нам нужно провести миграцию данных.

Для проведения миграции, мы создаем новую бизнес сущность "Внутренний паркинг",
где один из атрибутов указывает на "Здание" к которому этот паркинг относится.
Старые бизнес объекты нужно удалить и поставить в них поля newId и newType.

